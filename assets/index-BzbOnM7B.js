(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function tv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var np={exports:{}},cl={},rp={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var po=Symbol.for("react.element"),nv=Symbol.for("react.portal"),rv=Symbol.for("react.fragment"),iv=Symbol.for("react.strict_mode"),ov=Symbol.for("react.profiler"),sv=Symbol.for("react.provider"),lv=Symbol.for("react.context"),av=Symbol.for("react.forward_ref"),uv=Symbol.for("react.suspense"),cv=Symbol.for("react.memo"),hv=Symbol.for("react.lazy"),sf=Symbol.iterator;function fv(t){return t===null||typeof t!="object"?null:(t=sf&&t[sf]||t["@@iterator"],typeof t=="function"?t:null)}var ip={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},op=Object.assign,sp={};function Kr(t,e,n){this.props=t,this.context=e,this.refs=sp,this.updater=n||ip}Kr.prototype.isReactComponent={};Kr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Kr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lp(){}lp.prototype=Kr.prototype;function Qu(t,e,n){this.props=t,this.context=e,this.refs=sp,this.updater=n||ip}var Gu=Qu.prototype=new lp;Gu.constructor=Qu;op(Gu,Kr.prototype);Gu.isPureReactComponent=!0;var lf=Array.isArray,ap=Object.prototype.hasOwnProperty,Wu={current:null},up={key:!0,ref:!0,__self:!0,__source:!0};function cp(t,e,n){var r,i={},o=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)ap.call(e,r)&&!up.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:po,type:t,key:o,ref:l,props:i,_owner:Wu.current}}function dv(t,e){return{$$typeof:po,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qu(t){return typeof t=="object"&&t!==null&&t.$$typeof===po}function pv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var af=/\/+/g;function ia(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pv(""+t.key):e.toString(36)}function us(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case po:case nv:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+ia(l,0):r,lf(i)?(n="",t!=null&&(n=t.replace(af,"$&/")+"/"),us(i,e,n,"",function(f){return f})):i!=null&&(qu(i)&&(i=dv(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(af,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",lf(t))for(var u=0;u<t.length;u++){o=t[u];var c=r+ia(o,u);l+=us(o,e,n,c,i)}else if(c=fv(t),typeof c=="function")for(t=c.call(t),u=0;!(o=t.next()).done;)o=o.value,c=r+ia(o,u++),l+=us(o,e,n,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function jo(t,e,n){if(t==null)return t;var r=[],i=0;return us(t,r,"","",function(o){return e.call(n,o,i++)}),r}function mv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ye={current:null},cs={transition:null},gv={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:cs,ReactCurrentOwner:Wu};function hp(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:jo,forEach:function(t,e,n){jo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jo(t,function(){e++}),e},toArray:function(t){return jo(t,function(e){return e})||[]},only:function(t){if(!qu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Component=Kr;W.Fragment=rv;W.Profiler=ov;W.PureComponent=Qu;W.StrictMode=iv;W.Suspense=uv;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gv;W.act=hp;W.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=op({},t.props),i=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=Wu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)ap.call(e,c)&&!up.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:po,type:t.type,key:i,ref:o,props:r,_owner:l}};W.createContext=function(t){return t={$$typeof:lv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sv,_context:t},t.Consumer=t};W.createElement=cp;W.createFactory=function(t){var e=cp.bind(null,t);return e.type=t,e};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:av,render:t}};W.isValidElement=qu;W.lazy=function(t){return{$$typeof:hv,_payload:{_status:-1,_result:t},_init:mv}};W.memo=function(t,e){return{$$typeof:cv,type:t,compare:e===void 0?null:e}};W.startTransition=function(t){var e=cs.transition;cs.transition={};try{t()}finally{cs.transition=e}};W.unstable_act=hp;W.useCallback=function(t,e){return Ye.current.useCallback(t,e)};W.useContext=function(t){return Ye.current.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t){return Ye.current.useDeferredValue(t)};W.useEffect=function(t,e){return Ye.current.useEffect(t,e)};W.useId=function(){return Ye.current.useId()};W.useImperativeHandle=function(t,e,n){return Ye.current.useImperativeHandle(t,e,n)};W.useInsertionEffect=function(t,e){return Ye.current.useInsertionEffect(t,e)};W.useLayoutEffect=function(t,e){return Ye.current.useLayoutEffect(t,e)};W.useMemo=function(t,e){return Ye.current.useMemo(t,e)};W.useReducer=function(t,e,n){return Ye.current.useReducer(t,e,n)};W.useRef=function(t){return Ye.current.useRef(t)};W.useState=function(t){return Ye.current.useState(t)};W.useSyncExternalStore=function(t,e,n){return Ye.current.useSyncExternalStore(t,e,n)};W.useTransition=function(){return Ye.current.useTransition()};W.version="18.3.1";rp.exports=W;var hl=rp.exports;const yv=tv(hl);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv=hl,_v=Symbol.for("react.element"),Ev=Symbol.for("react.fragment"),wv=Object.prototype.hasOwnProperty,Tv=vv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sv={key:!0,ref:!0,__self:!0,__source:!0};function fp(t,e,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)wv.call(e,r)&&!Sv.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_v,type:t,key:o,ref:l,props:i,_owner:Tv.current}}cl.Fragment=Ev;cl.jsx=fp;cl.jsxs=fp;np.exports=cl;var Tt=np.exports,Fa={},dp={exports:{}},ht={},pp={exports:{}},mp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,H){var Q=B.length;B.push(H);e:for(;0<Q;){var ce=Q-1>>>1,te=B[ce];if(0<i(te,H))B[ce]=H,B[Q]=te,Q=ce;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var H=B[0],Q=B.pop();if(Q!==H){B[0]=Q;e:for(var ce=0,te=B.length,ve=te>>>1;ce<ve;){var Bt=2*(ce+1)-1,jt=B[Bt],$t=Bt+1,bt=B[$t];if(0>i(jt,Q))$t<te&&0>i(bt,jt)?(B[ce]=bt,B[$t]=Q,ce=$t):(B[ce]=jt,B[Bt]=Q,ce=Bt);else if($t<te&&0>i(bt,Q))B[ce]=bt,B[$t]=Q,ce=$t;else break e}}return H}function i(B,H){var Q=B.sortIndex-H.sortIndex;return Q!==0?Q:B.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],f=[],m=1,y=null,T=3,P=!1,D=!1,V=!1,F=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(B){for(var H=n(f);H!==null;){if(H.callback===null)r(f);else if(H.startTime<=B)r(f),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(f)}}function N(B){if(V=!1,A(B),!D)if(n(c)!==null)D=!0,ti(U);else{var H=n(f);H!==null&&zt(N,H.startTime-B)}}function U(B,H){D=!1,V&&(V=!1,S(p),p=-1),P=!0;var Q=T;try{for(A(H),y=n(c);y!==null&&(!(y.expirationTime>H)||B&&!I());){var ce=y.callback;if(typeof ce=="function"){y.callback=null,T=y.priorityLevel;var te=ce(y.expirationTime<=H);H=t.unstable_now(),typeof te=="function"?y.callback=te:y===n(c)&&r(c),A(H)}else r(c);y=n(c)}if(y!==null)var ve=!0;else{var Bt=n(f);Bt!==null&&zt(N,Bt.startTime-H),ve=!1}return ve}finally{y=null,T=Q,P=!1}}var z=!1,v=null,p=-1,g=5,w=-1;function I(){return!(t.unstable_now()-w<g)}function R(){if(v!==null){var B=t.unstable_now();w=B;var H=!0;try{H=v(!0,B)}finally{H?E():(z=!1,v=null)}}else z=!1}var E;if(typeof _=="function")E=function(){_(R)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,Ln=dt.port2;dt.port1.onmessage=R,E=function(){Ln.postMessage(null)}}else E=function(){F(R,0)};function ti(B){v=B,z||(z=!0,E())}function zt(B,H){p=F(function(){B(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){D||P||(D=!0,ti(U))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(B){switch(T){case 1:case 2:case 3:var H=3;break;default:H=T}var Q=T;T=H;try{return B()}finally{T=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Q=T;T=B;try{return H()}finally{T=Q}},t.unstable_scheduleCallback=function(B,H,Q){var ce=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ce+Q:ce):Q=ce,B){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=Q+te,B={id:m++,callback:H,priorityLevel:B,startTime:Q,expirationTime:te,sortIndex:-1},Q>ce?(B.sortIndex=Q,e(f,B),n(c)===null&&B===n(f)&&(V?(S(p),p=-1):V=!0,zt(N,Q-ce))):(B.sortIndex=te,e(c,B),D||P||(D=!0,ti(U))),B},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(B){var H=T;return function(){var Q=T;T=H;try{return B.apply(this,arguments)}finally{T=Q}}}})(mp);pp.exports=mp;var Iv=pp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av=hl,ct=Iv;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gp=new Set,$i={};function sr(t,e){Fr(t,e),Fr(t+"Capture",e)}function Fr(t,e){for($i[t]=e,t=0;t<e.length;t++)gp.add(e[t])}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ua=Object.prototype.hasOwnProperty,Cv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uf={},cf={};function Rv(t){return Ua.call(cf,t)?!0:Ua.call(uf,t)?!1:Cv.test(t)?cf[t]=!0:(uf[t]=!0,!1)}function Pv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kv(t,e,n,r){if(e===null||typeof e>"u"||Pv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Je(t,e,n,r,i,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Me[t]=new Je(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Me[e]=new Je(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Me[t]=new Je(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Me[t]=new Je(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Me[t]=new Je(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Me[t]=new Je(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Me[t]=new Je(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Me[t]=new Je(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Me[t]=new Je(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ku=/[\-:]([a-z])/g;function Xu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ku,Xu);Me[e]=new Je(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ku,Xu);Me[e]=new Je(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ku,Xu);Me[e]=new Je(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Me[t]=new Je(t,1,!1,t.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Me[t]=new Je(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yu(t,e,n,r){var i=Me.hasOwnProperty(e)?Me[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kv(e,n,i,r)&&(n=null),r||i===null?Rv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var on=Av.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$o=Symbol.for("react.element"),yr=Symbol.for("react.portal"),vr=Symbol.for("react.fragment"),Ju=Symbol.for("react.strict_mode"),za=Symbol.for("react.profiler"),yp=Symbol.for("react.provider"),vp=Symbol.for("react.context"),Zu=Symbol.for("react.forward_ref"),Ba=Symbol.for("react.suspense"),ja=Symbol.for("react.suspense_list"),ec=Symbol.for("react.memo"),cn=Symbol.for("react.lazy"),_p=Symbol.for("react.offscreen"),hf=Symbol.iterator;function mi(t){return t===null||typeof t!="object"?null:(t=hf&&t[hf]||t["@@iterator"],typeof t=="function"?t:null)}var de=Object.assign,oa;function Ii(t){if(oa===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);oa=e&&e[1]||""}return`
`+oa+t}var sa=!1;function la(t,e){if(!t||sa)return"";sa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,u=o.length-1;1<=l&&0<=u&&i[l]!==o[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==o[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==o[u]){var c=`
`+i[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=u);break}}}finally{sa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ii(t):""}function Dv(t){switch(t.tag){case 5:return Ii(t.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 2:case 15:return t=la(t.type,!1),t;case 11:return t=la(t.type.render,!1),t;case 1:return t=la(t.type,!0),t;default:return""}}function $a(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vr:return"Fragment";case yr:return"Portal";case za:return"Profiler";case Ju:return"StrictMode";case Ba:return"Suspense";case ja:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vp:return(t.displayName||"Context")+".Consumer";case yp:return(t._context.displayName||"Context")+".Provider";case Zu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ec:return e=t.displayName||null,e!==null?e:$a(t.type)||"Memo";case cn:e=t._payload,t=t._init;try{return $a(t(e))}catch{}}return null}function Nv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $a(e);case 8:return e===Ju?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ep(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Vv(t){var e=Ep(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bo(t){t._valueTracker||(t._valueTracker=Vv(t))}function wp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ep(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function As(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ba(t,e){var n=e.checked;return de({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ff(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Tp(t,e){e=e.checked,e!=null&&Yu(t,"checked",e,!1)}function Ha(t,e){Tp(t,e);var n=Rn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qa(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qa(t,e.type,Rn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function df(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qa(t,e,n){(e!=="number"||As(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ai=Array.isArray;function kr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ga(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return de({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Ai(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rn(n)}}function Sp(t,e){var n=Rn(e.value),r=Rn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function mf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ip(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wa(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ip(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ho,Ap=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ho=Ho||document.createElement("div"),Ho.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ho.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xv=["Webkit","ms","Moz","O"];Object.keys(ki).forEach(function(t){xv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ki[e]=ki[t]})});function Cp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ki.hasOwnProperty(t)&&ki[t]?(""+e).trim():e+"px"}function Rp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Cp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ov=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qa(t,e){if(e){if(Ov[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Ka(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xa=null;function tc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ya=null,Dr=null,Nr=null;function gf(t){if(t=yo(t)){if(typeof Ya!="function")throw Error(O(280));var e=t.stateNode;e&&(e=gl(e),Ya(t.stateNode,t.type,e))}}function Pp(t){Dr?Nr?Nr.push(t):Nr=[t]:Dr=t}function kp(){if(Dr){var t=Dr,e=Nr;if(Nr=Dr=null,gf(t),e)for(t=0;t<e.length;t++)gf(e[t])}}function Dp(t,e){return t(e)}function Np(){}var aa=!1;function Vp(t,e,n){if(aa)return t(e,n);aa=!0;try{return Dp(t,e,n)}finally{aa=!1,(Dr!==null||Nr!==null)&&(Np(),kp())}}function Hi(t,e){var n=t.stateNode;if(n===null)return null;var r=gl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Ja=!1;if(Zt)try{var gi={};Object.defineProperty(gi,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",gi,gi),window.removeEventListener("test",gi,gi)}catch{Ja=!1}function Lv(t,e,n,r,i,o,l,u,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(m){this.onError(m)}}var Di=!1,Cs=null,Rs=!1,Za=null,Mv={onError:function(t){Di=!0,Cs=t}};function Fv(t,e,n,r,i,o,l,u,c){Di=!1,Cs=null,Lv.apply(Mv,arguments)}function Uv(t,e,n,r,i,o,l,u,c){if(Fv.apply(this,arguments),Di){if(Di){var f=Cs;Di=!1,Cs=null}else throw Error(O(198));Rs||(Rs=!0,Za=f)}}function lr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yf(t){if(lr(t)!==t)throw Error(O(188))}function zv(t){var e=t.alternate;if(!e){if(e=lr(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return yf(i),t;if(o===r)return yf(i),e;o=o.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,u=i.child;u;){if(u===n){l=!0,n=i,r=o;break}if(u===r){l=!0,r=i,n=o;break}u=u.sibling}if(!l){for(u=o.child;u;){if(u===n){l=!0,n=o,r=i;break}if(u===r){l=!0,r=o,n=i;break}u=u.sibling}if(!l)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function Op(t){return t=zv(t),t!==null?Lp(t):null}function Lp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lp(t);if(e!==null)return e;t=t.sibling}return null}var Mp=ct.unstable_scheduleCallback,vf=ct.unstable_cancelCallback,Bv=ct.unstable_shouldYield,jv=ct.unstable_requestPaint,_e=ct.unstable_now,$v=ct.unstable_getCurrentPriorityLevel,nc=ct.unstable_ImmediatePriority,Fp=ct.unstable_UserBlockingPriority,Ps=ct.unstable_NormalPriority,bv=ct.unstable_LowPriority,Up=ct.unstable_IdlePriority,fl=null,Lt=null;function Hv(t){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(fl,t,void 0,(t.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Wv,Qv=Math.log,Gv=Math.LN2;function Wv(t){return t>>>=0,t===0?32:31-(Qv(t)/Gv|0)|0}var Qo=64,Go=4194304;function Ci(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ks(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~i;u!==0?r=Ci(u):(o&=l,o!==0&&(r=Ci(o)))}else l=n&~i,l!==0?r=Ci(l):o!==0&&(r=Ci(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kt(e),i=1<<n,r|=t[n],e&=~i;return r}function qv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-kt(o),u=1<<l,c=i[l];c===-1?(!(u&n)||u&r)&&(i[l]=qv(u,e)):c<=e&&(t.expiredLanes|=u),o&=~u}}function eu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zp(){var t=Qo;return Qo<<=1,!(Qo&4194240)&&(Qo=64),t}function ua(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kt(e),t[e]=n}function Xv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-kt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function rc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ee=0;function Bp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jp,ic,$p,bp,Hp,tu=!1,Wo=[],gn=null,yn=null,vn=null,Qi=new Map,Gi=new Map,fn=[],Yv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _f(t,e){switch(t){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":Qi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gi.delete(e.pointerId)}}function yi(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=yo(e),e!==null&&ic(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Jv(t,e,n,r,i){switch(e){case"focusin":return gn=yi(gn,t,e,n,r,i),!0;case"dragenter":return yn=yi(yn,t,e,n,r,i),!0;case"mouseover":return vn=yi(vn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Qi.set(o,yi(Qi.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Gi.set(o,yi(Gi.get(o)||null,t,e,n,r,i)),!0}return!1}function Qp(t){var e=bn(t.target);if(e!==null){var n=lr(e);if(n!==null){if(e=n.tag,e===13){if(e=xp(n),e!==null){t.blockedOn=e,Hp(t.priority,function(){$p(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xa=r,n.target.dispatchEvent(r),Xa=null}else return e=yo(n),e!==null&&ic(e),t.blockedOn=n,!1;e.shift()}return!0}function Ef(t,e,n){hs(t)&&n.delete(e)}function Zv(){tu=!1,gn!==null&&hs(gn)&&(gn=null),yn!==null&&hs(yn)&&(yn=null),vn!==null&&hs(vn)&&(vn=null),Qi.forEach(Ef),Gi.forEach(Ef)}function vi(t,e){t.blockedOn===e&&(t.blockedOn=null,tu||(tu=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,Zv)))}function Wi(t){function e(i){return vi(i,t)}if(0<Wo.length){vi(Wo[0],t);for(var n=1;n<Wo.length;n++){var r=Wo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gn!==null&&vi(gn,t),yn!==null&&vi(yn,t),vn!==null&&vi(vn,t),Qi.forEach(e),Gi.forEach(e),n=0;n<fn.length;n++)r=fn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fn.length&&(n=fn[0],n.blockedOn===null);)Qp(n),n.blockedOn===null&&fn.shift()}var Vr=on.ReactCurrentBatchConfig,Ds=!0;function e_(t,e,n,r){var i=ee,o=Vr.transition;Vr.transition=null;try{ee=1,oc(t,e,n,r)}finally{ee=i,Vr.transition=o}}function t_(t,e,n,r){var i=ee,o=Vr.transition;Vr.transition=null;try{ee=4,oc(t,e,n,r)}finally{ee=i,Vr.transition=o}}function oc(t,e,n,r){if(Ds){var i=nu(t,e,n,r);if(i===null)_a(t,e,r,Ns,n),_f(t,r);else if(Jv(i,t,e,n,r))r.stopPropagation();else if(_f(t,r),e&4&&-1<Yv.indexOf(t)){for(;i!==null;){var o=yo(i);if(o!==null&&jp(o),o=nu(t,e,n,r),o===null&&_a(t,e,r,Ns,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else _a(t,e,r,null,n)}}var Ns=null;function nu(t,e,n,r){if(Ns=null,t=tc(r),t=bn(t),t!==null)if(e=lr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ns=t,null}function Gp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($v()){case nc:return 1;case Fp:return 4;case Ps:case bv:return 16;case Up:return 536870912;default:return 16}default:return 16}}var pn=null,sc=null,fs=null;function Wp(){if(fs)return fs;var t,e=sc,n=e.length,r,i="value"in pn?pn.value:pn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[o-r];r++);return fs=i.slice(t,1<r?1-r:void 0)}function ds(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qo(){return!0}function wf(){return!1}function ft(t){function e(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?qo:wf,this.isPropagationStopped=wf,this}return de(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),e}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lc=ft(Xr),go=de({},Xr,{view:0,detail:0}),n_=ft(go),ca,ha,_i,dl=de({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ac,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_i&&(_i&&t.type==="mousemove"?(ca=t.screenX-_i.screenX,ha=t.screenY-_i.screenY):ha=ca=0,_i=t),ca)},movementY:function(t){return"movementY"in t?t.movementY:ha}}),Tf=ft(dl),r_=de({},dl,{dataTransfer:0}),i_=ft(r_),o_=de({},go,{relatedTarget:0}),fa=ft(o_),s_=de({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),l_=ft(s_),a_=de({},Xr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),u_=ft(a_),c_=de({},Xr,{data:0}),Sf=ft(c_),h_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=d_[t])?!!e[t]:!1}function ac(){return p_}var m_=de({},go,{key:function(t){if(t.key){var e=h_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?f_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ac,charCode:function(t){return t.type==="keypress"?ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),g_=ft(m_),y_=de({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),If=ft(y_),v_=de({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ac}),__=ft(v_),E_=de({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),w_=ft(E_),T_=de({},dl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S_=ft(T_),I_=[9,13,27,32],uc=Zt&&"CompositionEvent"in window,Ni=null;Zt&&"documentMode"in document&&(Ni=document.documentMode);var A_=Zt&&"TextEvent"in window&&!Ni,qp=Zt&&(!uc||Ni&&8<Ni&&11>=Ni),Af=" ",Cf=!1;function Kp(t,e){switch(t){case"keyup":return I_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _r=!1;function C_(t,e){switch(t){case"compositionend":return Xp(e);case"keypress":return e.which!==32?null:(Cf=!0,Af);case"textInput":return t=e.data,t===Af&&Cf?null:t;default:return null}}function R_(t,e){if(_r)return t==="compositionend"||!uc&&Kp(t,e)?(t=Wp(),fs=sc=pn=null,_r=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qp&&e.locale!=="ko"?null:e.data;default:return null}}var P_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!P_[t.type]:e==="textarea"}function Yp(t,e,n,r){Pp(r),e=Vs(e,"onChange"),0<e.length&&(n=new lc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vi=null,qi=null;function k_(t){am(t,0)}function pl(t){var e=Tr(t);if(wp(e))return t}function D_(t,e){if(t==="change")return e}var Jp=!1;if(Zt){var da;if(Zt){var pa="oninput"in document;if(!pa){var Pf=document.createElement("div");Pf.setAttribute("oninput","return;"),pa=typeof Pf.oninput=="function"}da=pa}else da=!1;Jp=da&&(!document.documentMode||9<document.documentMode)}function kf(){Vi&&(Vi.detachEvent("onpropertychange",Zp),qi=Vi=null)}function Zp(t){if(t.propertyName==="value"&&pl(qi)){var e=[];Yp(e,qi,t,tc(t)),Vp(k_,e)}}function N_(t,e,n){t==="focusin"?(kf(),Vi=e,qi=n,Vi.attachEvent("onpropertychange",Zp)):t==="focusout"&&kf()}function V_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pl(qi)}function x_(t,e){if(t==="click")return pl(e)}function O_(t,e){if(t==="input"||t==="change")return pl(e)}function L_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nt=typeof Object.is=="function"?Object.is:L_;function Ki(t,e){if(Nt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ua.call(e,i)||!Nt(t[i],e[i]))return!1}return!0}function Df(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nf(t,e){var n=Df(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Df(n)}}function em(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?em(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tm(){for(var t=window,e=As();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=As(t.document)}return e}function cc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function M_(t){var e=tm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&em(n.ownerDocument.documentElement,n)){if(r!==null&&cc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Nf(n,o);var l=Nf(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var F_=Zt&&"documentMode"in document&&11>=document.documentMode,Er=null,ru=null,xi=null,iu=!1;function Vf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;iu||Er==null||Er!==As(r)||(r=Er,"selectionStart"in r&&cc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xi&&Ki(xi,r)||(xi=r,r=Vs(ru,"onSelect"),0<r.length&&(e=new lc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Er)))}function Ko(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wr={animationend:Ko("Animation","AnimationEnd"),animationiteration:Ko("Animation","AnimationIteration"),animationstart:Ko("Animation","AnimationStart"),transitionend:Ko("Transition","TransitionEnd")},ma={},nm={};Zt&&(nm=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function ml(t){if(ma[t])return ma[t];if(!wr[t])return t;var e=wr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nm)return ma[t]=e[n];return t}var rm=ml("animationend"),im=ml("animationiteration"),om=ml("animationstart"),sm=ml("transitionend"),lm=new Map,xf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vn(t,e){lm.set(t,e),sr(e,[t])}for(var ga=0;ga<xf.length;ga++){var ya=xf[ga],U_=ya.toLowerCase(),z_=ya[0].toUpperCase()+ya.slice(1);Vn(U_,"on"+z_)}Vn(rm,"onAnimationEnd");Vn(im,"onAnimationIteration");Vn(om,"onAnimationStart");Vn("dblclick","onDoubleClick");Vn("focusin","onFocus");Vn("focusout","onBlur");Vn(sm,"onTransitionEnd");Fr("onMouseEnter",["mouseout","mouseover"]);Fr("onMouseLeave",["mouseout","mouseover"]);Fr("onPointerEnter",["pointerout","pointerover"]);Fr("onPointerLeave",["pointerout","pointerover"]);sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function Of(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Uv(r,e,void 0,t),t.currentTarget=null}function am(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var l=r.length-1;0<=l;l--){var u=r[l],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==o&&i.isPropagationStopped())break e;Of(i,u,f),o=c}else for(l=0;l<r.length;l++){if(u=r[l],c=u.instance,f=u.currentTarget,u=u.listener,c!==o&&i.isPropagationStopped())break e;Of(i,u,f),o=c}}}if(Rs)throw t=Za,Rs=!1,Za=null,t}function se(t,e){var n=e[uu];n===void 0&&(n=e[uu]=new Set);var r=t+"__bubble";n.has(r)||(um(e,t,2,!1),n.add(r))}function va(t,e,n){var r=0;e&&(r|=4),um(n,t,r,e)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function Xi(t){if(!t[Xo]){t[Xo]=!0,gp.forEach(function(n){n!=="selectionchange"&&(B_.has(n)||va(n,!1,t),va(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xo]||(e[Xo]=!0,va("selectionchange",!1,e))}}function um(t,e,n,r){switch(Gp(e)){case 1:var i=e_;break;case 4:i=t_;break;default:i=oc}n=i.bind(null,e,n,t),i=void 0,!Ja||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function _a(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;u!==null;){if(l=bn(u),l===null)return;if(c=l.tag,c===5||c===6){r=o=l;continue e}u=u.parentNode}}r=r.return}Vp(function(){var f=o,m=tc(n),y=[];e:{var T=lm.get(t);if(T!==void 0){var P=lc,D=t;switch(t){case"keypress":if(ds(n)===0)break e;case"keydown":case"keyup":P=g_;break;case"focusin":D="focus",P=fa;break;case"focusout":D="blur",P=fa;break;case"beforeblur":case"afterblur":P=fa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=i_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=__;break;case rm:case im:case om:P=l_;break;case sm:P=w_;break;case"scroll":P=n_;break;case"wheel":P=S_;break;case"copy":case"cut":case"paste":P=u_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=If}var V=(e&4)!==0,F=!V&&t==="scroll",S=V?T!==null?T+"Capture":null:T;V=[];for(var _=f,A;_!==null;){A=_;var N=A.stateNode;if(A.tag===5&&N!==null&&(A=N,S!==null&&(N=Hi(_,S),N!=null&&V.push(Yi(_,N,A)))),F)break;_=_.return}0<V.length&&(T=new P(T,D,null,n,m),y.push({event:T,listeners:V}))}}if(!(e&7)){e:{if(T=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",T&&n!==Xa&&(D=n.relatedTarget||n.fromElement)&&(bn(D)||D[en]))break e;if((P||T)&&(T=m.window===m?m:(T=m.ownerDocument)?T.defaultView||T.parentWindow:window,P?(D=n.relatedTarget||n.toElement,P=f,D=D?bn(D):null,D!==null&&(F=lr(D),D!==F||D.tag!==5&&D.tag!==6)&&(D=null)):(P=null,D=f),P!==D)){if(V=Tf,N="onMouseLeave",S="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(V=If,N="onPointerLeave",S="onPointerEnter",_="pointer"),F=P==null?T:Tr(P),A=D==null?T:Tr(D),T=new V(N,_+"leave",P,n,m),T.target=F,T.relatedTarget=A,N=null,bn(m)===f&&(V=new V(S,_+"enter",D,n,m),V.target=A,V.relatedTarget=F,N=V),F=N,P&&D)t:{for(V=P,S=D,_=0,A=V;A;A=pr(A))_++;for(A=0,N=S;N;N=pr(N))A++;for(;0<_-A;)V=pr(V),_--;for(;0<A-_;)S=pr(S),A--;for(;_--;){if(V===S||S!==null&&V===S.alternate)break t;V=pr(V),S=pr(S)}V=null}else V=null;P!==null&&Lf(y,T,P,V,!1),D!==null&&F!==null&&Lf(y,F,D,V,!0)}}e:{if(T=f?Tr(f):window,P=T.nodeName&&T.nodeName.toLowerCase(),P==="select"||P==="input"&&T.type==="file")var U=D_;else if(Rf(T))if(Jp)U=O_;else{U=V_;var z=N_}else(P=T.nodeName)&&P.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(U=x_);if(U&&(U=U(t,f))){Yp(y,U,n,m);break e}z&&z(t,T,f),t==="focusout"&&(z=T._wrapperState)&&z.controlled&&T.type==="number"&&Qa(T,"number",T.value)}switch(z=f?Tr(f):window,t){case"focusin":(Rf(z)||z.contentEditable==="true")&&(Er=z,ru=f,xi=null);break;case"focusout":xi=ru=Er=null;break;case"mousedown":iu=!0;break;case"contextmenu":case"mouseup":case"dragend":iu=!1,Vf(y,n,m);break;case"selectionchange":if(F_)break;case"keydown":case"keyup":Vf(y,n,m)}var v;if(uc)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else _r?Kp(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(qp&&n.locale!=="ko"&&(_r||p!=="onCompositionStart"?p==="onCompositionEnd"&&_r&&(v=Wp()):(pn=m,sc="value"in pn?pn.value:pn.textContent,_r=!0)),z=Vs(f,p),0<z.length&&(p=new Sf(p,t,null,n,m),y.push({event:p,listeners:z}),v?p.data=v:(v=Xp(n),v!==null&&(p.data=v)))),(v=A_?C_(t,n):R_(t,n))&&(f=Vs(f,"onBeforeInput"),0<f.length&&(m=new Sf("onBeforeInput","beforeinput",null,n,m),y.push({event:m,listeners:f}),m.data=v))}am(y,e)})}function Yi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vs(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Hi(t,n),o!=null&&r.unshift(Yi(t,o,i)),o=Hi(t,e),o!=null&&r.push(Yi(t,o,i))),t=t.return}return r}function pr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Lf(t,e,n,r,i){for(var o=e._reactName,l=[];n!==null&&n!==r;){var u=n,c=u.alternate,f=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&f!==null&&(u=f,i?(c=Hi(n,o),c!=null&&l.unshift(Yi(n,c,u))):i||(c=Hi(n,o),c!=null&&l.push(Yi(n,c,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var j_=/\r\n?/g,$_=/\u0000|\uFFFD/g;function Mf(t){return(typeof t=="string"?t:""+t).replace(j_,`
`).replace($_,"")}function Yo(t,e,n){if(e=Mf(e),Mf(t)!==e&&n)throw Error(O(425))}function xs(){}var ou=null,su=null;function lu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var au=typeof setTimeout=="function"?setTimeout:void 0,b_=typeof clearTimeout=="function"?clearTimeout:void 0,Ff=typeof Promise=="function"?Promise:void 0,H_=typeof queueMicrotask=="function"?queueMicrotask:typeof Ff<"u"?function(t){return Ff.resolve(null).then(t).catch(Q_)}:au;function Q_(t){setTimeout(function(){throw t})}function Ea(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Wi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wi(e)}function _n(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Uf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yr=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Yr,Ji="__reactProps$"+Yr,en="__reactContainer$"+Yr,uu="__reactEvents$"+Yr,G_="__reactListeners$"+Yr,W_="__reactHandles$"+Yr;function bn(t){var e=t[Ot];if(e)return e;for(var n=t.parentNode;n;){if(e=n[en]||n[Ot]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Uf(t);t!==null;){if(n=t[Ot])return n;t=Uf(t)}return e}t=n,n=t.parentNode}return null}function yo(t){return t=t[Ot]||t[en],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Tr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function gl(t){return t[Ji]||null}var cu=[],Sr=-1;function xn(t){return{current:t}}function le(t){0>Sr||(t.current=cu[Sr],cu[Sr]=null,Sr--)}function re(t,e){Sr++,cu[Sr]=t.current,t.current=e}var Pn={},Ge=xn(Pn),nt=xn(!1),Yn=Pn;function Ur(t,e){var n=t.type.contextTypes;if(!n)return Pn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rt(t){return t=t.childContextTypes,t!=null}function Os(){le(nt),le(Ge)}function zf(t,e,n){if(Ge.current!==Pn)throw Error(O(168));re(Ge,e),re(nt,n)}function cm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,Nv(t)||"Unknown",i));return de({},n,r)}function Ls(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pn,Yn=Ge.current,re(Ge,t),re(nt,nt.current),!0}function Bf(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=cm(t,e,Yn),r.__reactInternalMemoizedMergedChildContext=t,le(nt),le(Ge),re(Ge,t)):le(nt),re(nt,n)}var Wt=null,yl=!1,wa=!1;function hm(t){Wt===null?Wt=[t]:Wt.push(t)}function q_(t){yl=!0,hm(t)}function On(){if(!wa&&Wt!==null){wa=!0;var t=0,e=ee;try{var n=Wt;for(ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wt=null,yl=!1}catch(i){throw Wt!==null&&(Wt=Wt.slice(t+1)),Mp(nc,On),i}finally{ee=e,wa=!1}}return null}var Ir=[],Ar=0,Ms=null,Fs=0,pt=[],mt=0,Jn=null,qt=1,Kt="";function Bn(t,e){Ir[Ar++]=Fs,Ir[Ar++]=Ms,Ms=t,Fs=e}function fm(t,e,n){pt[mt++]=qt,pt[mt++]=Kt,pt[mt++]=Jn,Jn=t;var r=qt;t=Kt;var i=32-kt(r)-1;r&=~(1<<i),n+=1;var o=32-kt(e)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,qt=1<<32-kt(e)+i|n<<i|r,Kt=o+t}else qt=1<<o|n<<i|r,Kt=t}function hc(t){t.return!==null&&(Bn(t,1),fm(t,1,0))}function fc(t){for(;t===Ms;)Ms=Ir[--Ar],Ir[Ar]=null,Fs=Ir[--Ar],Ir[Ar]=null;for(;t===Jn;)Jn=pt[--mt],pt[mt]=null,Kt=pt[--mt],pt[mt]=null,qt=pt[--mt],pt[mt]=null}var ut=null,at=null,ue=!1,At=null;function dm(t,e){var n=gt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ut=t,at=_n(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ut=t,at=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jn!==null?{id:qt,overflow:Kt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ut=t,at=null,!0):!1;default:return!1}}function hu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fu(t){if(ue){var e=at;if(e){var n=e;if(!jf(t,e)){if(hu(t))throw Error(O(418));e=_n(n.nextSibling);var r=ut;e&&jf(t,e)?dm(r,n):(t.flags=t.flags&-4097|2,ue=!1,ut=t)}}else{if(hu(t))throw Error(O(418));t.flags=t.flags&-4097|2,ue=!1,ut=t}}}function $f(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ut=t}function Jo(t){if(t!==ut)return!1;if(!ue)return $f(t),ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lu(t.type,t.memoizedProps)),e&&(e=at)){if(hu(t))throw pm(),Error(O(418));for(;e;)dm(t,e),e=_n(e.nextSibling)}if($f(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){at=_n(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}at=null}}else at=ut?_n(t.stateNode.nextSibling):null;return!0}function pm(){for(var t=at;t;)t=_n(t.nextSibling)}function zr(){at=ut=null,ue=!1}function dc(t){At===null?At=[t]:At.push(t)}var K_=on.ReactCurrentBatchConfig;function Ei(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var u=i.refs;l===null?delete u[o]:u[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function Zo(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bf(t){var e=t._init;return e(t._payload)}function mm(t){function e(S,_){if(t){var A=S.deletions;A===null?(S.deletions=[_],S.flags|=16):A.push(_)}}function n(S,_){if(!t)return null;for(;_!==null;)e(S,_),_=_.sibling;return null}function r(S,_){for(S=new Map;_!==null;)_.key!==null?S.set(_.key,_):S.set(_.index,_),_=_.sibling;return S}function i(S,_){return S=Sn(S,_),S.index=0,S.sibling=null,S}function o(S,_,A){return S.index=A,t?(A=S.alternate,A!==null?(A=A.index,A<_?(S.flags|=2,_):A):(S.flags|=2,_)):(S.flags|=1048576,_)}function l(S){return t&&S.alternate===null&&(S.flags|=2),S}function u(S,_,A,N){return _===null||_.tag!==6?(_=Pa(A,S.mode,N),_.return=S,_):(_=i(_,A),_.return=S,_)}function c(S,_,A,N){var U=A.type;return U===vr?m(S,_,A.props.children,N,A.key):_!==null&&(_.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===cn&&bf(U)===_.type)?(N=i(_,A.props),N.ref=Ei(S,_,A),N.return=S,N):(N=Es(A.type,A.key,A.props,null,S.mode,N),N.ref=Ei(S,_,A),N.return=S,N)}function f(S,_,A,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=ka(A,S.mode,N),_.return=S,_):(_=i(_,A.children||[]),_.return=S,_)}function m(S,_,A,N,U){return _===null||_.tag!==7?(_=qn(A,S.mode,N,U),_.return=S,_):(_=i(_,A),_.return=S,_)}function y(S,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Pa(""+_,S.mode,A),_.return=S,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $o:return A=Es(_.type,_.key,_.props,null,S.mode,A),A.ref=Ei(S,null,_),A.return=S,A;case yr:return _=ka(_,S.mode,A),_.return=S,_;case cn:var N=_._init;return y(S,N(_._payload),A)}if(Ai(_)||mi(_))return _=qn(_,S.mode,A,null),_.return=S,_;Zo(S,_)}return null}function T(S,_,A,N){var U=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return U!==null?null:u(S,_,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case $o:return A.key===U?c(S,_,A,N):null;case yr:return A.key===U?f(S,_,A,N):null;case cn:return U=A._init,T(S,_,U(A._payload),N)}if(Ai(A)||mi(A))return U!==null?null:m(S,_,A,N,null);Zo(S,A)}return null}function P(S,_,A,N,U){if(typeof N=="string"&&N!==""||typeof N=="number")return S=S.get(A)||null,u(_,S,""+N,U);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case $o:return S=S.get(N.key===null?A:N.key)||null,c(_,S,N,U);case yr:return S=S.get(N.key===null?A:N.key)||null,f(_,S,N,U);case cn:var z=N._init;return P(S,_,A,z(N._payload),U)}if(Ai(N)||mi(N))return S=S.get(A)||null,m(_,S,N,U,null);Zo(_,N)}return null}function D(S,_,A,N){for(var U=null,z=null,v=_,p=_=0,g=null;v!==null&&p<A.length;p++){v.index>p?(g=v,v=null):g=v.sibling;var w=T(S,v,A[p],N);if(w===null){v===null&&(v=g);break}t&&v&&w.alternate===null&&e(S,v),_=o(w,_,p),z===null?U=w:z.sibling=w,z=w,v=g}if(p===A.length)return n(S,v),ue&&Bn(S,p),U;if(v===null){for(;p<A.length;p++)v=y(S,A[p],N),v!==null&&(_=o(v,_,p),z===null?U=v:z.sibling=v,z=v);return ue&&Bn(S,p),U}for(v=r(S,v);p<A.length;p++)g=P(v,S,p,A[p],N),g!==null&&(t&&g.alternate!==null&&v.delete(g.key===null?p:g.key),_=o(g,_,p),z===null?U=g:z.sibling=g,z=g);return t&&v.forEach(function(I){return e(S,I)}),ue&&Bn(S,p),U}function V(S,_,A,N){var U=mi(A);if(typeof U!="function")throw Error(O(150));if(A=U.call(A),A==null)throw Error(O(151));for(var z=U=null,v=_,p=_=0,g=null,w=A.next();v!==null&&!w.done;p++,w=A.next()){v.index>p?(g=v,v=null):g=v.sibling;var I=T(S,v,w.value,N);if(I===null){v===null&&(v=g);break}t&&v&&I.alternate===null&&e(S,v),_=o(I,_,p),z===null?U=I:z.sibling=I,z=I,v=g}if(w.done)return n(S,v),ue&&Bn(S,p),U;if(v===null){for(;!w.done;p++,w=A.next())w=y(S,w.value,N),w!==null&&(_=o(w,_,p),z===null?U=w:z.sibling=w,z=w);return ue&&Bn(S,p),U}for(v=r(S,v);!w.done;p++,w=A.next())w=P(v,S,p,w.value,N),w!==null&&(t&&w.alternate!==null&&v.delete(w.key===null?p:w.key),_=o(w,_,p),z===null?U=w:z.sibling=w,z=w);return t&&v.forEach(function(R){return e(S,R)}),ue&&Bn(S,p),U}function F(S,_,A,N){if(typeof A=="object"&&A!==null&&A.type===vr&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case $o:e:{for(var U=A.key,z=_;z!==null;){if(z.key===U){if(U=A.type,U===vr){if(z.tag===7){n(S,z.sibling),_=i(z,A.props.children),_.return=S,S=_;break e}}else if(z.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===cn&&bf(U)===z.type){n(S,z.sibling),_=i(z,A.props),_.ref=Ei(S,z,A),_.return=S,S=_;break e}n(S,z);break}else e(S,z);z=z.sibling}A.type===vr?(_=qn(A.props.children,S.mode,N,A.key),_.return=S,S=_):(N=Es(A.type,A.key,A.props,null,S.mode,N),N.ref=Ei(S,_,A),N.return=S,S=N)}return l(S);case yr:e:{for(z=A.key;_!==null;){if(_.key===z)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){n(S,_.sibling),_=i(_,A.children||[]),_.return=S,S=_;break e}else{n(S,_);break}else e(S,_);_=_.sibling}_=ka(A,S.mode,N),_.return=S,S=_}return l(S);case cn:return z=A._init,F(S,_,z(A._payload),N)}if(Ai(A))return D(S,_,A,N);if(mi(A))return V(S,_,A,N);Zo(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,_!==null&&_.tag===6?(n(S,_.sibling),_=i(_,A),_.return=S,S=_):(n(S,_),_=Pa(A,S.mode,N),_.return=S,S=_),l(S)):n(S,_)}return F}var Br=mm(!0),gm=mm(!1),Us=xn(null),zs=null,Cr=null,pc=null;function mc(){pc=Cr=zs=null}function gc(t){var e=Us.current;le(Us),t._currentValue=e}function du(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xr(t,e){zs=t,pc=Cr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tt=!0),t.firstContext=null)}function vt(t){var e=t._currentValue;if(pc!==t)if(t={context:t,memoizedValue:e,next:null},Cr===null){if(zs===null)throw Error(O(308));Cr=t,zs.dependencies={lanes:0,firstContext:t}}else Cr=Cr.next=t;return e}var Hn=null;function yc(t){Hn===null?Hn=[t]:Hn.push(t)}function ym(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yc(e)):(n.next=i.next,i.next=n),e.interleaved=n,tn(t,r)}function tn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hn=!1;function vc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function En(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,tn(t,n)}return i=r.interleaved,i===null?(e.next=e,yc(r)):(e.next=i.next,i.next=e),r.interleaved=e,tn(t,n)}function ps(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rc(t,n)}}function Hf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bs(t,e,n,r){var i=t.updateQueue;hn=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,f=c.next;c.next=null,l===null?o=f:l.next=f,l=c;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==l&&(u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=c))}if(o!==null){var y=i.baseState;l=0,m=f=c=null,u=o;do{var T=u.lane,P=u.eventTime;if((r&T)===T){m!==null&&(m=m.next={eventTime:P,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var D=t,V=u;switch(T=e,P=n,V.tag){case 1:if(D=V.payload,typeof D=="function"){y=D.call(P,y,T);break e}y=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=V.payload,T=typeof D=="function"?D.call(P,y,T):D,T==null)break e;y=de({},y,T);break e;case 2:hn=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,T=i.effects,T===null?i.effects=[u]:T.push(u))}else P={eventTime:P,lane:T,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(f=m=P,c=y):m=m.next=P,l|=T;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;T=u,u=T.next,T.next=null,i.lastBaseUpdate=T,i.shared.pending=null}}while(!0);if(m===null&&(c=y),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);er|=l,t.lanes=l,t.memoizedState=y}}function Qf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var vo={},Mt=xn(vo),Zi=xn(vo),eo=xn(vo);function Qn(t){if(t===vo)throw Error(O(174));return t}function _c(t,e){switch(re(eo,e),re(Zi,t),re(Mt,vo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wa(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wa(e,t)}le(Mt),re(Mt,e)}function jr(){le(Mt),le(Zi),le(eo)}function _m(t){Qn(eo.current);var e=Qn(Mt.current),n=Wa(e,t.type);e!==n&&(re(Zi,t),re(Mt,n))}function Ec(t){Zi.current===t&&(le(Mt),le(Zi))}var he=xn(0);function js(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ta=[];function wc(){for(var t=0;t<Ta.length;t++)Ta[t]._workInProgressVersionPrimary=null;Ta.length=0}var ms=on.ReactCurrentDispatcher,Sa=on.ReactCurrentBatchConfig,Zn=0,fe=null,Te=null,Ae=null,$s=!1,Oi=!1,to=0,X_=0;function Be(){throw Error(O(321))}function Tc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nt(t[n],e[n]))return!1;return!0}function Sc(t,e,n,r,i,o){if(Zn=o,fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ms.current=t===null||t.memoizedState===null?e0:t0,t=n(r,i),Oi){o=0;do{if(Oi=!1,to=0,25<=o)throw Error(O(301));o+=1,Ae=Te=null,e.updateQueue=null,ms.current=n0,t=n(r,i)}while(Oi)}if(ms.current=bs,e=Te!==null&&Te.next!==null,Zn=0,Ae=Te=fe=null,$s=!1,e)throw Error(O(300));return t}function Ic(){var t=to!==0;return to=0,t}function xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?fe.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function _t(){if(Te===null){var t=fe.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var e=Ae===null?fe.memoizedState:Ae.next;if(e!==null)Ae=e,Te=t;else{if(t===null)throw Error(O(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ae===null?fe.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function no(t,e){return typeof e=="function"?e(t):e}function Ia(t){var e=_t(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=Te,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var u=l=null,c=null,f=o;do{var m=f.lane;if((Zn&m)===m)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var y={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(u=c=y,l=r):c=c.next=y,fe.lanes|=m,er|=m}f=f.next}while(f!==null&&f!==o);c===null?l=r:c.next=u,Nt(r,e.memoizedState)||(tt=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,fe.lanes|=o,er|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Aa(t){var e=_t(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=t(o,l.action),l=l.next;while(l!==i);Nt(o,e.memoizedState)||(tt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Em(){}function wm(t,e){var n=fe,r=_t(),i=e(),o=!Nt(r.memoizedState,i);if(o&&(r.memoizedState=i,tt=!0),r=r.queue,Ac(Im.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,ro(9,Sm.bind(null,n,r,i,e),void 0,null),Re===null)throw Error(O(349));Zn&30||Tm(n,e,i)}return i}function Tm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Sm(t,e,n,r){e.value=n,e.getSnapshot=r,Am(e)&&Cm(t)}function Im(t,e,n){return n(function(){Am(e)&&Cm(t)})}function Am(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nt(t,n)}catch{return!0}}function Cm(t){var e=tn(t,1);e!==null&&Dt(e,t,1,-1)}function Gf(t){var e=xt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:no,lastRenderedState:t},e.queue=t,t=t.dispatch=Z_.bind(null,fe,t),[e.memoizedState,t]}function ro(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Rm(){return _t().memoizedState}function gs(t,e,n,r){var i=xt();fe.flags|=t,i.memoizedState=ro(1|e,n,void 0,r===void 0?null:r)}function vl(t,e,n,r){var i=_t();r=r===void 0?null:r;var o=void 0;if(Te!==null){var l=Te.memoizedState;if(o=l.destroy,r!==null&&Tc(r,l.deps)){i.memoizedState=ro(e,n,o,r);return}}fe.flags|=t,i.memoizedState=ro(1|e,n,o,r)}function Wf(t,e){return gs(8390656,8,t,e)}function Ac(t,e){return vl(2048,8,t,e)}function Pm(t,e){return vl(4,2,t,e)}function km(t,e){return vl(4,4,t,e)}function Dm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Nm(t,e,n){return n=n!=null?n.concat([t]):null,vl(4,4,Dm.bind(null,e,t),n)}function Cc(){}function Vm(t,e){var n=_t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xm(t,e){var n=_t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Om(t,e,n){return Zn&21?(Nt(n,e)||(n=zp(),fe.lanes|=n,er|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tt=!0),t.memoizedState=n)}function Y_(t,e){var n=ee;ee=n!==0&&4>n?n:4,t(!0);var r=Sa.transition;Sa.transition={};try{t(!1),e()}finally{ee=n,Sa.transition=r}}function Lm(){return _t().memoizedState}function J_(t,e,n){var r=Tn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mm(t))Fm(e,n);else if(n=ym(t,e,n,r),n!==null){var i=Xe();Dt(n,t,r,i),Um(n,e,r)}}function Z_(t,e,n){var r=Tn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mm(t))Fm(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,u=o(l,n);if(i.hasEagerState=!0,i.eagerState=u,Nt(u,l)){var c=e.interleaved;c===null?(i.next=i,yc(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=ym(t,e,i,r),n!==null&&(i=Xe(),Dt(n,t,r,i),Um(n,e,r))}}function Mm(t){var e=t.alternate;return t===fe||e!==null&&e===fe}function Fm(t,e){Oi=$s=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Um(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rc(t,n)}}var bs={readContext:vt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},e0={readContext:vt,useCallback:function(t,e){return xt().memoizedState=[t,e===void 0?null:e],t},useContext:vt,useEffect:Wf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gs(4194308,4,Dm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gs(4194308,4,t,e)},useInsertionEffect:function(t,e){return gs(4,2,t,e)},useMemo:function(t,e){var n=xt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=J_.bind(null,fe,t),[r.memoizedState,t]},useRef:function(t){var e=xt();return t={current:t},e.memoizedState=t},useState:Gf,useDebugValue:Cc,useDeferredValue:function(t){return xt().memoizedState=t},useTransition:function(){var t=Gf(!1),e=t[0];return t=Y_.bind(null,t[1]),xt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=fe,i=xt();if(ue){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),Re===null)throw Error(O(349));Zn&30||Tm(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Wf(Im.bind(null,r,o,t),[t]),r.flags|=2048,ro(9,Sm.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=xt(),e=Re.identifierPrefix;if(ue){var n=Kt,r=qt;n=(r&~(1<<32-kt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=to++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=X_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},t0={readContext:vt,useCallback:Vm,useContext:vt,useEffect:Ac,useImperativeHandle:Nm,useInsertionEffect:Pm,useLayoutEffect:km,useMemo:xm,useReducer:Ia,useRef:Rm,useState:function(){return Ia(no)},useDebugValue:Cc,useDeferredValue:function(t){var e=_t();return Om(e,Te.memoizedState,t)},useTransition:function(){var t=Ia(no)[0],e=_t().memoizedState;return[t,e]},useMutableSource:Em,useSyncExternalStore:wm,useId:Lm,unstable_isNewReconciler:!1},n0={readContext:vt,useCallback:Vm,useContext:vt,useEffect:Ac,useImperativeHandle:Nm,useInsertionEffect:Pm,useLayoutEffect:km,useMemo:xm,useReducer:Aa,useRef:Rm,useState:function(){return Aa(no)},useDebugValue:Cc,useDeferredValue:function(t){var e=_t();return Te===null?e.memoizedState=t:Om(e,Te.memoizedState,t)},useTransition:function(){var t=Aa(no)[0],e=_t().memoizedState;return[t,e]},useMutableSource:Em,useSyncExternalStore:wm,useId:Lm,unstable_isNewReconciler:!1};function St(t,e){if(t&&t.defaultProps){e=de({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function pu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:de({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _l={isMounted:function(t){return(t=t._reactInternals)?lr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xe(),i=Tn(t),o=Xt(r,i);o.payload=e,n!=null&&(o.callback=n),e=En(t,o,i),e!==null&&(Dt(e,t,i,r),ps(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xe(),i=Tn(t),o=Xt(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=En(t,o,i),e!==null&&(Dt(e,t,i,r),ps(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xe(),r=Tn(t),i=Xt(n,r);i.tag=2,e!=null&&(i.callback=e),e=En(t,i,r),e!==null&&(Dt(e,t,r,n),ps(e,t,r))}};function qf(t,e,n,r,i,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,l):e.prototype&&e.prototype.isPureReactComponent?!Ki(n,r)||!Ki(i,o):!0}function zm(t,e,n){var r=!1,i=Pn,o=e.contextType;return typeof o=="object"&&o!==null?o=vt(o):(i=rt(e)?Yn:Ge.current,r=e.contextTypes,o=(r=r!=null)?Ur(t,i):Pn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_l,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Kf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_l.enqueueReplaceState(e,e.state,null)}function mu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},vc(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=vt(o):(o=rt(e)?Yn:Ge.current,i.context=Ur(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(pu(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_l.enqueueReplaceState(i,i.state,null),Bs(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $r(t,e){try{var n="",r=e;do n+=Dv(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ca(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var r0=typeof WeakMap=="function"?WeakMap:Map;function Bm(t,e,n){n=Xt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qs||(Qs=!0,Cu=r),gu(t,e)},n}function jm(t,e,n){n=Xt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){gu(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){gu(t,e),typeof r!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Xf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new r0;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=y0.bind(null,t,e,n),e.then(t,t))}function Yf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xt(-1,1),e.tag=2,En(n,e,1))),n.lanes|=1),t)}var i0=on.ReactCurrentOwner,tt=!1;function Ke(t,e,n,r){e.child=t===null?gm(e,null,n,r):Br(e,t.child,n,r)}function Zf(t,e,n,r,i){n=n.render;var o=e.ref;return xr(e,i),r=Sc(t,e,n,r,o,i),n=Ic(),t!==null&&!tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nn(t,e,i)):(ue&&n&&hc(e),e.flags|=1,Ke(t,e,r,i),e.child)}function ed(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Oc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,$m(t,e,o,r,i)):(t=Es(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ki,n(l,r)&&t.ref===e.ref)return nn(t,e,i)}return e.flags|=1,t=Sn(o,r),t.ref=e.ref,t.return=e,e.child=t}function $m(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ki(o,r)&&t.ref===e.ref)if(tt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(tt=!0);else return e.lanes=t.lanes,nn(t,e,i)}return yu(t,e,n,r,i)}function bm(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(Pr,lt),lt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,re(Pr,lt),lt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,re(Pr,lt),lt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,re(Pr,lt),lt|=r;return Ke(t,e,i,n),e.child}function Hm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function yu(t,e,n,r,i){var o=rt(n)?Yn:Ge.current;return o=Ur(e,o),xr(e,i),n=Sc(t,e,n,r,o,i),r=Ic(),t!==null&&!tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nn(t,e,i)):(ue&&r&&hc(e),e.flags|=1,Ke(t,e,n,i),e.child)}function td(t,e,n,r,i){if(rt(n)){var o=!0;Ls(e)}else o=!1;if(xr(e,i),e.stateNode===null)ys(t,e),zm(e,n,r),mu(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var c=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=vt(f):(f=rt(n)?Yn:Ge.current,f=Ur(e,f));var m=n.getDerivedStateFromProps,y=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";y||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||c!==f)&&Kf(e,l,r,f),hn=!1;var T=e.memoizedState;l.state=T,Bs(e,r,l,i),c=e.memoizedState,u!==r||T!==c||nt.current||hn?(typeof m=="function"&&(pu(e,n,m,r),c=e.memoizedState),(u=hn||qf(e,n,u,r,T,c,f))?(y||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),l.props=r,l.state=c,l.context=f,r=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,vm(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:St(e.type,u),l.props=f,y=e.pendingProps,T=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=vt(c):(c=rt(n)?Yn:Ge.current,c=Ur(e,c));var P=n.getDerivedStateFromProps;(m=typeof P=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==y||T!==c)&&Kf(e,l,r,c),hn=!1,T=e.memoizedState,l.state=T,Bs(e,r,l,i);var D=e.memoizedState;u!==y||T!==D||nt.current||hn?(typeof P=="function"&&(pu(e,n,P,r),D=e.memoizedState),(f=hn||qf(e,n,f,r,T,D,c)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,D,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,D,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&T===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&T===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=D),l.props=r,l.state=D,l.context=c,r=f):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&T===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&T===t.memoizedState||(e.flags|=1024),r=!1)}return vu(t,e,n,r,o,i)}function vu(t,e,n,r,i,o){Hm(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&Bf(e,n,!1),nn(t,e,o);r=e.stateNode,i0.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Br(e,t.child,null,o),e.child=Br(e,null,u,o)):Ke(t,e,u,o),e.memoizedState=r.state,i&&Bf(e,n,!0),e.child}function Qm(t){var e=t.stateNode;e.pendingContext?zf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zf(t,e.context,!1),_c(t,e.containerInfo)}function nd(t,e,n,r,i){return zr(),dc(i),e.flags|=256,Ke(t,e,n,r),e.child}var _u={dehydrated:null,treeContext:null,retryLane:0};function Eu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gm(t,e,n){var r=e.pendingProps,i=he.current,o=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),re(he,i&1),t===null)return fu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,o?(r=e.mode,o=e.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Tl(l,r,0,null),t=qn(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Eu(n),e.memoizedState=_u,t):Rc(e,l));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return o0(t,e,l,r,u,i,n);if(o){o=r.fallback,l=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Sn(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?o=Sn(u,o):(o=qn(o,l,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,l=t.child.memoizedState,l=l===null?Eu(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=_u,r}return o=t.child,t=o.sibling,r=Sn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rc(t,e){return e=Tl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function es(t,e,n,r){return r!==null&&dc(r),Br(e,t.child,null,n),t=Rc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function o0(t,e,n,r,i,o,l){if(n)return e.flags&256?(e.flags&=-257,r=Ca(Error(O(422))),es(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Tl({mode:"visible",children:r.children},i,0,null),o=qn(o,i,l,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Br(e,t.child,null,l),e.child.memoizedState=Eu(l),e.memoizedState=_u,o);if(!(e.mode&1))return es(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(O(419)),r=Ca(o,r,void 0),es(t,e,l,r)}if(u=(l&t.childLanes)!==0,tt||u){if(r=Re,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,tn(t,i),Dt(r,t,i,-1))}return xc(),r=Ca(Error(O(421))),es(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=v0.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,at=_n(i.nextSibling),ut=e,ue=!0,At=null,t!==null&&(pt[mt++]=qt,pt[mt++]=Kt,pt[mt++]=Jn,qt=t.id,Kt=t.overflow,Jn=e),e=Rc(e,r.children),e.flags|=4096,e)}function rd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),du(t.return,e,n)}function Ra(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Wm(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ke(t,e,r.children,n),r=he.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rd(t,n,e);else if(t.tag===19)rd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(re(he,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&js(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ra(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&js(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ra(e,!0,n,null,o);break;case"together":Ra(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ys(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),er|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=Sn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Sn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function s0(t,e,n){switch(e.tag){case 3:Qm(e),zr();break;case 5:_m(e);break;case 1:rt(e.type)&&Ls(e);break;case 4:_c(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;re(Us,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(re(he,he.current&1),e.flags|=128,null):n&e.child.childLanes?Gm(t,e,n):(re(he,he.current&1),t=nn(t,e,n),t!==null?t.sibling:null);re(he,he.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Wm(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),re(he,he.current),r)break;return null;case 22:case 23:return e.lanes=0,bm(t,e,n)}return nn(t,e,n)}var qm,wu,Km,Xm;qm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wu=function(){};Km=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Qn(Mt.current);var o=null;switch(n){case"input":i=ba(t,i),r=ba(t,r),o=[];break;case"select":i=de({},i,{value:void 0}),r=de({},r,{value:void 0}),o=[];break;case"textarea":i=Ga(t,i),r=Ga(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xs)}qa(n,r);var l;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&($i.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var c=r[f];if(u=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(c!=null||u!=null))if(f==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(o||(o=[]),o.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(o=o||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&($i.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&se("scroll",t),o||u===c||(o=[])):(o=o||[]).push(f,c))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};Xm=function(t,e,n,r){n!==r&&(e.flags|=4)};function wi(t,e){if(!ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function je(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function l0(t,e,n){var r=e.pendingProps;switch(fc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(e),null;case 1:return rt(e.type)&&Os(),je(e),null;case 3:return r=e.stateNode,jr(),le(nt),le(Ge),wc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Jo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,At!==null&&(ku(At),At=null))),wu(t,e),je(e),null;case 5:Ec(e);var i=Qn(eo.current);if(n=e.type,t!==null&&e.stateNode!=null)Km(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return je(e),null}if(t=Qn(Mt.current),Jo(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ot]=e,r[Ji]=o,t=(e.mode&1)!==0,n){case"dialog":se("cancel",r),se("close",r);break;case"iframe":case"object":case"embed":se("load",r);break;case"video":case"audio":for(i=0;i<Ri.length;i++)se(Ri[i],r);break;case"source":se("error",r);break;case"img":case"image":case"link":se("error",r),se("load",r);break;case"details":se("toggle",r);break;case"input":ff(r,o),se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},se("invalid",r);break;case"textarea":pf(r,o),se("invalid",r)}qa(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var u=o[l];l==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&Yo(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Yo(r.textContent,u,t),i=["children",""+u]):$i.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&se("scroll",r)}switch(n){case"input":bo(r),df(r,o,!0);break;case"textarea":bo(r),mf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=xs)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ip(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Ot]=e,t[Ji]=r,qm(t,e,!1,!1),e.stateNode=t;e:{switch(l=Ka(n,r),n){case"dialog":se("cancel",t),se("close",t),i=r;break;case"iframe":case"object":case"embed":se("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ri.length;i++)se(Ri[i],t);i=r;break;case"source":se("error",t),i=r;break;case"img":case"image":case"link":se("error",t),se("load",t),i=r;break;case"details":se("toggle",t),i=r;break;case"input":ff(t,r),i=ba(t,r),se("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=de({},r,{value:void 0}),se("invalid",t);break;case"textarea":pf(t,r),i=Ga(t,r),se("invalid",t);break;default:i=r}qa(n,i),u=i;for(o in u)if(u.hasOwnProperty(o)){var c=u[o];o==="style"?Rp(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ap(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&bi(t,c):typeof c=="number"&&bi(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&($i.hasOwnProperty(o)?c!=null&&o==="onScroll"&&se("scroll",t):c!=null&&Yu(t,o,c,l))}switch(n){case"input":bo(t),df(t,r,!1);break;case"textarea":bo(t),mf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?kr(t,!!r.multiple,o,!1):r.defaultValue!=null&&kr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return je(e),null;case 6:if(t&&e.stateNode!=null)Xm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=Qn(eo.current),Qn(Mt.current),Jo(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ot]=e,(o=r.nodeValue!==n)&&(t=ut,t!==null))switch(t.tag){case 3:Yo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yo(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ot]=e,e.stateNode=r}return je(e),null;case 13:if(le(he),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ue&&at!==null&&e.mode&1&&!(e.flags&128))pm(),zr(),e.flags|=98560,o=!1;else if(o=Jo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(O(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(O(317));o[Ot]=e}else zr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;je(e),o=!1}else At!==null&&(ku(At),At=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||he.current&1?Se===0&&(Se=3):xc())),e.updateQueue!==null&&(e.flags|=4),je(e),null);case 4:return jr(),wu(t,e),t===null&&Xi(e.stateNode.containerInfo),je(e),null;case 10:return gc(e.type._context),je(e),null;case 17:return rt(e.type)&&Os(),je(e),null;case 19:if(le(he),o=e.memoizedState,o===null)return je(e),null;if(r=(e.flags&128)!==0,l=o.rendering,l===null)if(r)wi(o,!1);else{if(Se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=js(t),l!==null){for(e.flags|=128,wi(o,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return re(he,he.current&1|2),e.child}t=t.sibling}o.tail!==null&&_e()>br&&(e.flags|=128,r=!0,wi(o,!1),e.lanes=4194304)}else{if(!r)if(t=js(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!ue)return je(e),null}else 2*_e()-o.renderingStartTime>br&&n!==1073741824&&(e.flags|=128,r=!0,wi(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=_e(),e.sibling=null,n=he.current,re(he,r?n&1|2:n&1),e):(je(e),null);case 22:case 23:return Vc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?lt&1073741824&&(je(e),e.subtreeFlags&6&&(e.flags|=8192)):je(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function a0(t,e){switch(fc(e),e.tag){case 1:return rt(e.type)&&Os(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jr(),le(nt),le(Ge),wc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ec(e),null;case 13:if(le(he),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));zr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return le(he),null;case 4:return jr(),null;case 10:return gc(e.type._context),null;case 22:case 23:return Vc(),null;case 24:return null;default:return null}}var ts=!1,He=!1,u0=typeof WeakSet=="function"?WeakSet:Set,j=null;function Rr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(t,e,r)}else n.current=null}function Tu(t,e,n){try{n()}catch(r){me(t,e,r)}}var id=!1;function c0(t,e){if(ou=Ds,t=tm(),cc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,u=-1,c=-1,f=0,m=0,y=t,T=null;t:for(;;){for(var P;y!==n||i!==0&&y.nodeType!==3||(u=l+i),y!==o||r!==0&&y.nodeType!==3||(c=l+r),y.nodeType===3&&(l+=y.nodeValue.length),(P=y.firstChild)!==null;)T=y,y=P;for(;;){if(y===t)break t;if(T===n&&++f===i&&(u=l),T===o&&++m===r&&(c=l),(P=y.nextSibling)!==null)break;y=T,T=y.parentNode}y=P}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(su={focusedElem:t,selectionRange:n},Ds=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var D=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(D!==null){var V=D.memoizedProps,F=D.memoizedState,S=e.stateNode,_=S.getSnapshotBeforeUpdate(e.elementType===e.type?V:St(e.type,V),F);S.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(N){me(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return D=id,id=!1,D}function Li(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Tu(e,n,o)}i=i.next}while(i!==r)}}function El(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Su(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ym(t){var e=t.alternate;e!==null&&(t.alternate=null,Ym(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ot],delete e[Ji],delete e[uu],delete e[G_],delete e[W_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jm(t){return t.tag===5||t.tag===3||t.tag===4}function od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Iu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xs));else if(r!==4&&(t=t.child,t!==null))for(Iu(t,e,n),t=t.sibling;t!==null;)Iu(t,e,n),t=t.sibling}function Au(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Au(t,e,n),t=t.sibling;t!==null;)Au(t,e,n),t=t.sibling}var De=null,It=!1;function un(t,e,n){for(n=n.child;n!==null;)Zm(t,e,n),n=n.sibling}function Zm(t,e,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(fl,n)}catch{}switch(n.tag){case 5:He||Rr(n,e);case 6:var r=De,i=It;De=null,un(t,e,n),De=r,It=i,De!==null&&(It?(t=De,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(It?(t=De,n=n.stateNode,t.nodeType===8?Ea(t.parentNode,n):t.nodeType===1&&Ea(t,n),Wi(t)):Ea(De,n.stateNode));break;case 4:r=De,i=It,De=n.stateNode.containerInfo,It=!0,un(t,e,n),De=r,It=i;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Tu(n,e,l),i=i.next}while(i!==r)}un(t,e,n);break;case 1:if(!He&&(Rr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){me(n,e,u)}un(t,e,n);break;case 21:un(t,e,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,un(t,e,n),He=r):un(t,e,n);break;default:un(t,e,n)}}function sd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new u0),e.forEach(function(r){var i=_0.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:De=u.stateNode,It=!1;break e;case 3:De=u.stateNode.containerInfo,It=!0;break e;case 4:De=u.stateNode.containerInfo,It=!0;break e}u=u.return}if(De===null)throw Error(O(160));Zm(o,l,i),De=null,It=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(f){me(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)eg(e,t),e=e.sibling}function eg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wt(e,t),Vt(t),r&4){try{Li(3,t,t.return),El(3,t)}catch(V){me(t,t.return,V)}try{Li(5,t,t.return)}catch(V){me(t,t.return,V)}}break;case 1:wt(e,t),Vt(t),r&512&&n!==null&&Rr(n,n.return);break;case 5:if(wt(e,t),Vt(t),r&512&&n!==null&&Rr(n,n.return),t.flags&32){var i=t.stateNode;try{bi(i,"")}catch(V){me(t,t.return,V)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&Tp(i,o),Ka(u,l);var f=Ka(u,o);for(l=0;l<c.length;l+=2){var m=c[l],y=c[l+1];m==="style"?Rp(i,y):m==="dangerouslySetInnerHTML"?Ap(i,y):m==="children"?bi(i,y):Yu(i,m,y,f)}switch(u){case"input":Ha(i,o);break;case"textarea":Sp(i,o);break;case"select":var T=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var P=o.value;P!=null?kr(i,!!o.multiple,P,!1):T!==!!o.multiple&&(o.defaultValue!=null?kr(i,!!o.multiple,o.defaultValue,!0):kr(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ji]=o}catch(V){me(t,t.return,V)}}break;case 6:if(wt(e,t),Vt(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(V){me(t,t.return,V)}}break;case 3:if(wt(e,t),Vt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wi(e.containerInfo)}catch(V){me(t,t.return,V)}break;case 4:wt(e,t),Vt(t);break;case 13:wt(e,t),Vt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Dc=_e())),r&4&&sd(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(He=(f=He)||m,wt(e,t),He=f):wt(e,t),Vt(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!m&&t.mode&1)for(j=t,m=t.child;m!==null;){for(y=j=m;j!==null;){switch(T=j,P=T.child,T.tag){case 0:case 11:case 14:case 15:Li(4,T,T.return);break;case 1:Rr(T,T.return);var D=T.stateNode;if(typeof D.componentWillUnmount=="function"){r=T,n=T.return;try{e=r,D.props=e.memoizedProps,D.state=e.memoizedState,D.componentWillUnmount()}catch(V){me(r,n,V)}}break;case 5:Rr(T,T.return);break;case 22:if(T.memoizedState!==null){ad(y);continue}}P!==null?(P.return=T,j=P):ad(y)}m=m.sibling}e:for(m=null,y=t;;){if(y.tag===5){if(m===null){m=y;try{i=y.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=y.stateNode,c=y.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Cp("display",l))}catch(V){me(t,t.return,V)}}}else if(y.tag===6){if(m===null)try{y.stateNode.nodeValue=f?"":y.memoizedProps}catch(V){me(t,t.return,V)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===t)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;m===y&&(m=null),y=y.return}m===y&&(m=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:wt(e,t),Vt(t),r&4&&sd(t);break;case 21:break;default:wt(e,t),Vt(t)}}function Vt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Jm(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bi(i,""),r.flags&=-33);var o=od(t);Au(t,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,u=od(t);Iu(t,u,l);break;default:throw Error(O(161))}}catch(c){me(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function h0(t,e,n){j=t,tg(t)}function tg(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var i=j,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||ts;if(!l){var u=i.alternate,c=u!==null&&u.memoizedState!==null||He;u=ts;var f=He;if(ts=l,(He=c)&&!f)for(j=i;j!==null;)l=j,c=l.child,l.tag===22&&l.memoizedState!==null?ud(i):c!==null?(c.return=l,j=c):ud(i);for(;o!==null;)j=o,tg(o),o=o.sibling;j=i,ts=u,He=f}ld(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,j=o):ld(t)}}function ld(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:He||El(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!He)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:St(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Qf(e,o,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qf(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var y=m.dehydrated;y!==null&&Wi(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}He||e.flags&512&&Su(e)}catch(T){me(e,e.return,T)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function ad(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function ud(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{El(4,e)}catch(c){me(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){me(e,i,c)}}var o=e.return;try{Su(e)}catch(c){me(e,o,c)}break;case 5:var l=e.return;try{Su(e)}catch(c){me(e,l,c)}}}catch(c){me(e,e.return,c)}if(e===t){j=null;break}var u=e.sibling;if(u!==null){u.return=e.return,j=u;break}j=e.return}}var f0=Math.ceil,Hs=on.ReactCurrentDispatcher,Pc=on.ReactCurrentOwner,yt=on.ReactCurrentBatchConfig,Y=0,Re=null,we=null,Oe=0,lt=0,Pr=xn(0),Se=0,io=null,er=0,wl=0,kc=0,Mi=null,et=null,Dc=0,br=1/0,Gt=null,Qs=!1,Cu=null,wn=null,ns=!1,mn=null,Gs=0,Fi=0,Ru=null,vs=-1,_s=0;function Xe(){return Y&6?_e():vs!==-1?vs:vs=_e()}function Tn(t){return t.mode&1?Y&2&&Oe!==0?Oe&-Oe:K_.transition!==null?(_s===0&&(_s=zp()),_s):(t=ee,t!==0||(t=window.event,t=t===void 0?16:Gp(t.type)),t):1}function Dt(t,e,n,r){if(50<Fi)throw Fi=0,Ru=null,Error(O(185));mo(t,n,r),(!(Y&2)||t!==Re)&&(t===Re&&(!(Y&2)&&(wl|=n),Se===4&&dn(t,Oe)),it(t,r),n===1&&Y===0&&!(e.mode&1)&&(br=_e()+500,yl&&On()))}function it(t,e){var n=t.callbackNode;Kv(t,e);var r=ks(t,t===Re?Oe:0);if(r===0)n!==null&&vf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vf(n),e===1)t.tag===0?q_(cd.bind(null,t)):hm(cd.bind(null,t)),H_(function(){!(Y&6)&&On()}),n=null;else{switch(Bp(r)){case 1:n=nc;break;case 4:n=Fp;break;case 16:n=Ps;break;case 536870912:n=Up;break;default:n=Ps}n=ug(n,ng.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ng(t,e){if(vs=-1,_s=0,Y&6)throw Error(O(327));var n=t.callbackNode;if(Or()&&t.callbackNode!==n)return null;var r=ks(t,t===Re?Oe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ws(t,r);else{e=r;var i=Y;Y|=2;var o=ig();(Re!==t||Oe!==e)&&(Gt=null,br=_e()+500,Wn(t,e));do try{m0();break}catch(u){rg(t,u)}while(!0);mc(),Hs.current=o,Y=i,we!==null?e=0:(Re=null,Oe=0,e=Se)}if(e!==0){if(e===2&&(i=eu(t),i!==0&&(r=i,e=Pu(t,i))),e===1)throw n=io,Wn(t,0),dn(t,r),it(t,_e()),n;if(e===6)dn(t,r);else{if(i=t.current.alternate,!(r&30)&&!d0(i)&&(e=Ws(t,r),e===2&&(o=eu(t),o!==0&&(r=o,e=Pu(t,o))),e===1))throw n=io,Wn(t,0),dn(t,r),it(t,_e()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:jn(t,et,Gt);break;case 3:if(dn(t,r),(r&130023424)===r&&(e=Dc+500-_e(),10<e)){if(ks(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Xe(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=au(jn.bind(null,t,et,Gt),e);break}jn(t,et,Gt);break;case 4:if(dn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-kt(r);o=1<<l,l=e[l],l>i&&(i=l),r&=~o}if(r=i,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*f0(r/1960))-r,10<r){t.timeoutHandle=au(jn.bind(null,t,et,Gt),r);break}jn(t,et,Gt);break;case 5:jn(t,et,Gt);break;default:throw Error(O(329))}}}return it(t,_e()),t.callbackNode===n?ng.bind(null,t):null}function Pu(t,e){var n=Mi;return t.current.memoizedState.isDehydrated&&(Wn(t,e).flags|=256),t=Ws(t,e),t!==2&&(e=et,et=n,e!==null&&ku(e)),t}function ku(t){et===null?et=t:et.push.apply(et,t)}function d0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Nt(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function dn(t,e){for(e&=~kc,e&=~wl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kt(e),r=1<<n;t[n]=-1,e&=~r}}function cd(t){if(Y&6)throw Error(O(327));Or();var e=ks(t,0);if(!(e&1))return it(t,_e()),null;var n=Ws(t,e);if(t.tag!==0&&n===2){var r=eu(t);r!==0&&(e=r,n=Pu(t,r))}if(n===1)throw n=io,Wn(t,0),dn(t,e),it(t,_e()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jn(t,et,Gt),it(t,_e()),null}function Nc(t,e){var n=Y;Y|=1;try{return t(e)}finally{Y=n,Y===0&&(br=_e()+500,yl&&On())}}function tr(t){mn!==null&&mn.tag===0&&!(Y&6)&&Or();var e=Y;Y|=1;var n=yt.transition,r=ee;try{if(yt.transition=null,ee=1,t)return t()}finally{ee=r,yt.transition=n,Y=e,!(Y&6)&&On()}}function Vc(){lt=Pr.current,le(Pr)}function Wn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,b_(n)),we!==null)for(n=we.return;n!==null;){var r=n;switch(fc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Os();break;case 3:jr(),le(nt),le(Ge),wc();break;case 5:Ec(r);break;case 4:jr();break;case 13:le(he);break;case 19:le(he);break;case 10:gc(r.type._context);break;case 22:case 23:Vc()}n=n.return}if(Re=t,we=t=Sn(t.current,null),Oe=lt=e,Se=0,io=null,kc=wl=er=0,et=Mi=null,Hn!==null){for(e=0;e<Hn.length;e++)if(n=Hn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}Hn=null}return t}function rg(t,e){do{var n=we;try{if(mc(),ms.current=bs,$s){for(var r=fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$s=!1}if(Zn=0,Ae=Te=fe=null,Oi=!1,to=0,Pc.current=null,n===null||n.return===null){Se=1,io=e,we=null;break}e:{var o=t,l=n.return,u=n,c=e;if(e=Oe,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,m=u,y=m.tag;if(!(m.mode&1)&&(y===0||y===11||y===15)){var T=m.alternate;T?(m.updateQueue=T.updateQueue,m.memoizedState=T.memoizedState,m.lanes=T.lanes):(m.updateQueue=null,m.memoizedState=null)}var P=Yf(l);if(P!==null){P.flags&=-257,Jf(P,l,u,o,e),P.mode&1&&Xf(o,f,e),e=P,c=f;var D=e.updateQueue;if(D===null){var V=new Set;V.add(c),e.updateQueue=V}else D.add(c);break e}else{if(!(e&1)){Xf(o,f,e),xc();break e}c=Error(O(426))}}else if(ue&&u.mode&1){var F=Yf(l);if(F!==null){!(F.flags&65536)&&(F.flags|=256),Jf(F,l,u,o,e),dc($r(c,u));break e}}o=c=$r(c,u),Se!==4&&(Se=2),Mi===null?Mi=[o]:Mi.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=Bm(o,c,e);Hf(o,S);break e;case 1:u=c;var _=o.type,A=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(wn===null||!wn.has(A)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=jm(o,u,e);Hf(o,N);break e}}o=o.return}while(o!==null)}sg(n)}catch(U){e=U,we===n&&n!==null&&(we=n=n.return);continue}break}while(!0)}function ig(){var t=Hs.current;return Hs.current=bs,t===null?bs:t}function xc(){(Se===0||Se===3||Se===2)&&(Se=4),Re===null||!(er&268435455)&&!(wl&268435455)||dn(Re,Oe)}function Ws(t,e){var n=Y;Y|=2;var r=ig();(Re!==t||Oe!==e)&&(Gt=null,Wn(t,e));do try{p0();break}catch(i){rg(t,i)}while(!0);if(mc(),Y=n,Hs.current=r,we!==null)throw Error(O(261));return Re=null,Oe=0,Se}function p0(){for(;we!==null;)og(we)}function m0(){for(;we!==null&&!Bv();)og(we)}function og(t){var e=ag(t.alternate,t,lt);t.memoizedProps=t.pendingProps,e===null?sg(t):we=e,Pc.current=null}function sg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=a0(n,e),n!==null){n.flags&=32767,we=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Se=6,we=null;return}}else if(n=l0(n,e,lt),n!==null){we=n;return}if(e=e.sibling,e!==null){we=e;return}we=e=t}while(e!==null);Se===0&&(Se=5)}function jn(t,e,n){var r=ee,i=yt.transition;try{yt.transition=null,ee=1,g0(t,e,n,r)}finally{yt.transition=i,ee=r}return null}function g0(t,e,n,r){do Or();while(mn!==null);if(Y&6)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Xv(t,o),t===Re&&(we=Re=null,Oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ns||(ns=!0,ug(Ps,function(){return Or(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=yt.transition,yt.transition=null;var l=ee;ee=1;var u=Y;Y|=4,Pc.current=null,c0(t,n),eg(n,t),M_(su),Ds=!!ou,su=ou=null,t.current=n,h0(n),jv(),Y=u,ee=l,yt.transition=o}else t.current=n;if(ns&&(ns=!1,mn=t,Gs=i),o=t.pendingLanes,o===0&&(wn=null),Hv(n.stateNode),it(t,_e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qs)throw Qs=!1,t=Cu,Cu=null,t;return Gs&1&&t.tag!==0&&Or(),o=t.pendingLanes,o&1?t===Ru?Fi++:(Fi=0,Ru=t):Fi=0,On(),null}function Or(){if(mn!==null){var t=Bp(Gs),e=yt.transition,n=ee;try{if(yt.transition=null,ee=16>t?16:t,mn===null)var r=!1;else{if(t=mn,mn=null,Gs=0,Y&6)throw Error(O(331));var i=Y;for(Y|=4,j=t.current;j!==null;){var o=j,l=o.child;if(j.flags&16){var u=o.deletions;if(u!==null){for(var c=0;c<u.length;c++){var f=u[c];for(j=f;j!==null;){var m=j;switch(m.tag){case 0:case 11:case 15:Li(8,m,o)}var y=m.child;if(y!==null)y.return=m,j=y;else for(;j!==null;){m=j;var T=m.sibling,P=m.return;if(Ym(m),m===f){j=null;break}if(T!==null){T.return=P,j=T;break}j=P}}}var D=o.alternate;if(D!==null){var V=D.child;if(V!==null){D.child=null;do{var F=V.sibling;V.sibling=null,V=F}while(V!==null)}}j=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,j=l;else e:for(;j!==null;){if(o=j,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Li(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,j=S;break e}j=o.return}}var _=t.current;for(j=_;j!==null;){l=j;var A=l.child;if(l.subtreeFlags&2064&&A!==null)A.return=l,j=A;else e:for(l=_;j!==null;){if(u=j,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:El(9,u)}}catch(U){me(u,u.return,U)}if(u===l){j=null;break e}var N=u.sibling;if(N!==null){N.return=u.return,j=N;break e}j=u.return}}if(Y=i,On(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(fl,t)}catch{}r=!0}return r}finally{ee=n,yt.transition=e}}return!1}function hd(t,e,n){e=$r(n,e),e=Bm(t,e,1),t=En(t,e,1),e=Xe(),t!==null&&(mo(t,1,e),it(t,e))}function me(t,e,n){if(t.tag===3)hd(t,t,n);else for(;e!==null;){if(e.tag===3){hd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wn===null||!wn.has(r))){t=$r(n,t),t=jm(e,t,1),e=En(e,t,1),t=Xe(),e!==null&&(mo(e,1,t),it(e,t));break}}e=e.return}}function y0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xe(),t.pingedLanes|=t.suspendedLanes&n,Re===t&&(Oe&n)===n&&(Se===4||Se===3&&(Oe&130023424)===Oe&&500>_e()-Dc?Wn(t,0):kc|=n),it(t,e)}function lg(t,e){e===0&&(t.mode&1?(e=Go,Go<<=1,!(Go&130023424)&&(Go=4194304)):e=1);var n=Xe();t=tn(t,e),t!==null&&(mo(t,e,n),it(t,n))}function v0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lg(t,n)}function _0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),lg(t,n)}var ag;ag=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nt.current)tt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tt=!1,s0(t,e,n);tt=!!(t.flags&131072)}else tt=!1,ue&&e.flags&1048576&&fm(e,Fs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ys(t,e),t=e.pendingProps;var i=Ur(e,Ge.current);xr(e,n),i=Sc(null,e,r,t,i,n);var o=Ic();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rt(r)?(o=!0,Ls(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vc(e),i.updater=_l,e.stateNode=i,i._reactInternals=e,mu(e,r,t,n),e=vu(null,e,r,!0,o,n)):(e.tag=0,ue&&o&&hc(e),Ke(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ys(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=w0(r),t=St(r,t),i){case 0:e=yu(null,e,r,t,n);break e;case 1:e=td(null,e,r,t,n);break e;case 11:e=Zf(null,e,r,t,n);break e;case 14:e=ed(null,e,r,St(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:St(r,i),yu(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:St(r,i),td(t,e,r,i,n);case 3:e:{if(Qm(e),t===null)throw Error(O(387));r=e.pendingProps,o=e.memoizedState,i=o.element,vm(t,e),Bs(e,r,null,n);var l=e.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=$r(Error(O(423)),e),e=nd(t,e,r,n,i);break e}else if(r!==i){i=$r(Error(O(424)),e),e=nd(t,e,r,n,i);break e}else for(at=_n(e.stateNode.containerInfo.firstChild),ut=e,ue=!0,At=null,n=gm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zr(),r===i){e=nn(t,e,n);break e}Ke(t,e,r,n)}e=e.child}return e;case 5:return _m(e),t===null&&fu(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,l=i.children,lu(r,i)?l=null:o!==null&&lu(r,o)&&(e.flags|=32),Hm(t,e),Ke(t,e,l,n),e.child;case 6:return t===null&&fu(e),null;case 13:return Gm(t,e,n);case 4:return _c(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Br(e,null,r,n):Ke(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:St(r,i),Zf(t,e,r,i,n);case 7:return Ke(t,e,e.pendingProps,n),e.child;case 8:return Ke(t,e,e.pendingProps.children,n),e.child;case 12:return Ke(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,l=i.value,re(Us,r._currentValue),r._currentValue=l,o!==null)if(Nt(o.value,l)){if(o.children===i.children&&!nt.current){e=nn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){l=o.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Xt(-1,n&-n),c.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?c.next=c:(c.next=m.next,m.next=c),f.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),du(o.return,n,e),u.lanes|=n;break}c=c.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(O(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),du(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Ke(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xr(e,n),i=vt(i),r=r(i),e.flags|=1,Ke(t,e,r,n),e.child;case 14:return r=e.type,i=St(r,e.pendingProps),i=St(r.type,i),ed(t,e,r,i,n);case 15:return $m(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:St(r,i),ys(t,e),e.tag=1,rt(r)?(t=!0,Ls(e)):t=!1,xr(e,n),zm(e,r,i),mu(e,r,i,n),vu(null,e,r,!0,t,n);case 19:return Wm(t,e,n);case 22:return bm(t,e,n)}throw Error(O(156,e.tag))};function ug(t,e){return Mp(t,e)}function E0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(t,e,n,r){return new E0(t,e,n,r)}function Oc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function w0(t){if(typeof t=="function")return Oc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zu)return 11;if(t===ec)return 14}return 2}function Sn(t,e){var n=t.alternate;return n===null?(n=gt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Es(t,e,n,r,i,o){var l=2;if(r=t,typeof t=="function")Oc(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case vr:return qn(n.children,i,o,e);case Ju:l=8,i|=8;break;case za:return t=gt(12,n,e,i|2),t.elementType=za,t.lanes=o,t;case Ba:return t=gt(13,n,e,i),t.elementType=Ba,t.lanes=o,t;case ja:return t=gt(19,n,e,i),t.elementType=ja,t.lanes=o,t;case _p:return Tl(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yp:l=10;break e;case vp:l=9;break e;case Zu:l=11;break e;case ec:l=14;break e;case cn:l=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=gt(l,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function qn(t,e,n,r){return t=gt(7,t,r,e),t.lanes=n,t}function Tl(t,e,n,r){return t=gt(22,t,r,e),t.elementType=_p,t.lanes=n,t.stateNode={isHidden:!1},t}function Pa(t,e,n){return t=gt(6,t,null,e),t.lanes=n,t}function ka(t,e,n){return e=gt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function T0(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ua(0),this.expirationTimes=ua(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ua(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lc(t,e,n,r,i,o,l,u,c){return t=new T0(t,e,n,u,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=gt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vc(o),t}function S0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cg(t){if(!t)return Pn;t=t._reactInternals;e:{if(lr(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(rt(n))return cm(t,n,e)}return e}function hg(t,e,n,r,i,o,l,u,c){return t=Lc(n,r,!0,t,i,o,l,u,c),t.context=cg(null),n=t.current,r=Xe(),i=Tn(n),o=Xt(r,i),o.callback=e??null,En(n,o,i),t.current.lanes=i,mo(t,i,r),it(t,r),t}function Sl(t,e,n,r){var i=e.current,o=Xe(),l=Tn(i);return n=cg(n),e.context===null?e.context=n:e.pendingContext=n,e=Xt(o,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=En(i,e,l),t!==null&&(Dt(t,i,l,o),ps(t,i,l)),l}function qs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mc(t,e){fd(t,e),(t=t.alternate)&&fd(t,e)}function I0(){return null}var fg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fc(t){this._internalRoot=t}Il.prototype.render=Fc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));Sl(t,e,null,null)};Il.prototype.unmount=Fc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tr(function(){Sl(null,t,null,null)}),e[en]=null}};function Il(t){this._internalRoot=t}Il.prototype.unstable_scheduleHydration=function(t){if(t){var e=bp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fn.length&&e!==0&&e<fn[n].priority;n++);fn.splice(n,0,t),n===0&&Qp(t)}};function Uc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Al(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dd(){}function A0(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var f=qs(l);o.call(f)}}var l=hg(e,r,t,0,null,!1,!1,"",dd);return t._reactRootContainer=l,t[en]=l.current,Xi(t.nodeType===8?t.parentNode:t),tr(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var f=qs(c);u.call(f)}}var c=Lc(t,0,!1,null,null,!1,!1,"",dd);return t._reactRootContainer=c,t[en]=c.current,Xi(t.nodeType===8?t.parentNode:t),tr(function(){Sl(e,c,n,r)}),c}function Cl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var u=i;i=function(){var c=qs(l);u.call(c)}}Sl(e,l,t,i)}else l=A0(n,e,t,i,r);return qs(l)}jp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ci(e.pendingLanes);n!==0&&(rc(e,n|1),it(e,_e()),!(Y&6)&&(br=_e()+500,On()))}break;case 13:tr(function(){var r=tn(t,1);if(r!==null){var i=Xe();Dt(r,t,1,i)}}),Mc(t,1)}};ic=function(t){if(t.tag===13){var e=tn(t,134217728);if(e!==null){var n=Xe();Dt(e,t,134217728,n)}Mc(t,134217728)}};$p=function(t){if(t.tag===13){var e=Tn(t),n=tn(t,e);if(n!==null){var r=Xe();Dt(n,t,e,r)}Mc(t,e)}};bp=function(){return ee};Hp=function(t,e){var n=ee;try{return ee=t,e()}finally{ee=n}};Ya=function(t,e,n){switch(e){case"input":if(Ha(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=gl(r);if(!i)throw Error(O(90));wp(r),Ha(r,i)}}}break;case"textarea":Sp(t,n);break;case"select":e=n.value,e!=null&&kr(t,!!n.multiple,e,!1)}};Dp=Nc;Np=tr;var C0={usingClientEntryPoint:!1,Events:[yo,Tr,gl,Pp,kp,Nc]},Ti={findFiberByHostInstance:bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R0={bundleType:Ti.bundleType,version:Ti.version,rendererPackageName:Ti.rendererPackageName,rendererConfig:Ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:on.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Op(t),t===null?null:t.stateNode},findFiberByHostInstance:Ti.findFiberByHostInstance||I0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rs.isDisabled&&rs.supportsFiber)try{fl=rs.inject(R0),Lt=rs}catch{}}ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C0;ht.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uc(e))throw Error(O(200));return S0(t,e,null,n)};ht.createRoot=function(t,e){if(!Uc(t))throw Error(O(299));var n=!1,r="",i=fg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Lc(t,1,!1,null,null,n,!1,r,i),t[en]=e.current,Xi(t.nodeType===8?t.parentNode:t),new Fc(e)};ht.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=Op(e),t=t===null?null:t.stateNode,t};ht.flushSync=function(t){return tr(t)};ht.hydrate=function(t,e,n){if(!Al(e))throw Error(O(200));return Cl(null,t,e,!0,n)};ht.hydrateRoot=function(t,e,n){if(!Uc(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=fg;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=hg(e,null,t,1,n??null,i,!1,o,l),t[en]=e.current,Xi(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Il(e)};ht.render=function(t,e,n){if(!Al(e))throw Error(O(200));return Cl(null,t,e,!1,n)};ht.unmountComponentAtNode=function(t){if(!Al(t))throw Error(O(40));return t._reactRootContainer?(tr(function(){Cl(null,null,t,!1,function(){t._reactRootContainer=null,t[en]=null})}),!0):!1};ht.unstable_batchedUpdates=Nc;ht.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Al(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return Cl(t,e,n,!1,r)};ht.version="18.3.1-next-f1338f8080-20240426";function dg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dg)}catch(t){console.error(t)}}dg(),dp.exports=ht;var P0=dp.exports,pd=P0;Fa.createRoot=pd.createRoot,Fa.hydrateRoot=pd.hydrateRoot;var md={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},k0=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},mg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,u=l?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,m=o>>2,y=(o&3)<<4|u>>4;let T=(u&15)<<2|f>>6,P=f&63;c||(P=64,l||(T=64)),r.push(n[m],n[y],n[T],n[P])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):k0(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||y==null)throw new D0;const T=o<<2|u>>4;if(r.push(T),f!==64){const P=u<<4&240|f>>2;if(r.push(P),y!==64){const D=f<<6&192|y;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class D0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N0=function(t){const e=pg(t);return mg.encodeByteArray(e,!0)},Ks=function(t){return N0(t).replace(/\./g,"")},V0=function(t){try{return mg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=()=>x0().__FIREBASE_DEFAULTS__,L0=()=>{if(typeof process>"u"||typeof md>"u")return;const t=md.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},M0=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&V0(t[1]);return e&&JSON.parse(e)},zc=()=>{try{return O0()||L0()||M0()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},F0=t=>{var e,n;return(n=(e=zc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},U0=t=>{const e=F0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gg=()=>{var t;return(t=zc())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ks(JSON.stringify(n)),Ks(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $0(){var t;const e=(t=zc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b0(){return!$0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H0(){try{return typeof indexedDB=="object"}catch{return!1}}function Q0(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="FirebaseError";class Jr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=G0,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yg.prototype.create)}}class yg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?W0(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Jr(i,u,r)}}function W0(t,e){return t.replace(q0,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const q0=/\{\$([^}]+)}/g;function Du(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(gd(o)&&gd(l)){if(!Du(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t){return t&&t._delegate?t._delegate:t}class so{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new z0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y0(e))try{this.getOrInitializeService({instanceIdentifier:$n})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=$n){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$n){return this.instances.has(e)}getOptions(e=$n){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:X0(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$n){return this.component?this.component.multipleInstances?e:$n:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X0(t){return t===$n?void 0:t}function Y0(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new K0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(X||(X={}));const Z0={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},e1=X.INFO,t1={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},n1=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=t1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vg{constructor(e){this.name=e,this._logLevel=e1,this._logHandler=n1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in X))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...e),this._logHandler(this,X.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...e),this._logHandler(this,X.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,X.INFO,...e),this._logHandler(this,X.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,X.WARN,...e),this._logHandler(this,X.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...e),this._logHandler(this,X.ERROR,...e)}}const r1=(t,e)=>e.some(n=>t instanceof n);let yd,vd;function i1(){return yd||(yd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o1(){return vd||(vd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _g=new WeakMap,Nu=new WeakMap,Eg=new WeakMap,Da=new WeakMap,Bc=new WeakMap;function s1(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(In(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&_g.set(n,t)}).catch(()=>{}),Bc.set(e,t),e}function l1(t){if(Nu.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Nu.set(t,e)}let Vu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Eg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return In(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function a1(t){Vu=t(Vu)}function u1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Na(this),e,...n);return Eg.set(r,e.sort?e.sort():[e]),In(r)}:o1().includes(t)?function(...e){return t.apply(Na(this),e),In(_g.get(this))}:function(...e){return In(t.apply(Na(this),e))}}function c1(t){return typeof t=="function"?u1(t):(t instanceof IDBTransaction&&l1(t),r1(t,i1())?new Proxy(t,Vu):t)}function In(t){if(t instanceof IDBRequest)return s1(t);if(Da.has(t))return Da.get(t);const e=c1(t);return e!==t&&(Da.set(t,e),Bc.set(e,t)),e}const Na=t=>Bc.get(t);function h1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),u=In(l);return r&&l.addEventListener("upgradeneeded",c=>{r(In(l.result),c.oldVersion,c.newVersion,In(l.transaction),c)}),n&&l.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const f1=["get","getKey","getAll","getAllKeys","count"],d1=["put","add","delete","clear"],Va=new Map;function _d(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Va.get(e))return Va.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=d1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||f1.includes(n)))return;const o=async function(l,...u){const c=this.transaction(l,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return Va.set(e,o),o}a1(t=>({...t,get:(e,n,r)=>_d(e,n)||t.get(e,n,r),has:(e,n)=>!!_d(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function m1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xu="@firebase/app",Ed="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=new vg("@firebase/app"),g1="@firebase/app-compat",y1="@firebase/analytics-compat",v1="@firebase/analytics",_1="@firebase/app-check-compat",E1="@firebase/app-check",w1="@firebase/auth",T1="@firebase/auth-compat",S1="@firebase/database",I1="@firebase/data-connect",A1="@firebase/database-compat",C1="@firebase/functions",R1="@firebase/functions-compat",P1="@firebase/installations",k1="@firebase/installations-compat",D1="@firebase/messaging",N1="@firebase/messaging-compat",V1="@firebase/performance",x1="@firebase/performance-compat",O1="@firebase/remote-config",L1="@firebase/remote-config-compat",M1="@firebase/storage",F1="@firebase/storage-compat",U1="@firebase/firestore",z1="@firebase/vertexai",B1="@firebase/firestore-compat",j1="firebase",$1="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou="[DEFAULT]",b1={[xu]:"fire-core",[g1]:"fire-core-compat",[v1]:"fire-analytics",[y1]:"fire-analytics-compat",[E1]:"fire-app-check",[_1]:"fire-app-check-compat",[w1]:"fire-auth",[T1]:"fire-auth-compat",[S1]:"fire-rtdb",[I1]:"fire-data-connect",[A1]:"fire-rtdb-compat",[C1]:"fire-fn",[R1]:"fire-fn-compat",[P1]:"fire-iid",[k1]:"fire-iid-compat",[D1]:"fire-fcm",[N1]:"fire-fcm-compat",[V1]:"fire-perf",[x1]:"fire-perf-compat",[O1]:"fire-rc",[L1]:"fire-rc-compat",[M1]:"fire-gcs",[F1]:"fire-gcs-compat",[U1]:"fire-fst",[B1]:"fire-fst-compat",[z1]:"fire-vertex","fire-js":"fire-js",[j1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new Map,H1=new Map,Lu=new Map;function wd(t,e){try{t.container.addComponent(e)}catch(n){rn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ys(t){const e=t.name;if(Lu.has(e))return rn.debug(`There were multiple attempts to register component ${e}.`),!1;Lu.set(e,t);for(const n of Xs.values())wd(n,t);for(const n of H1.values())wd(n,t);return!0}function Q1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},An=new yg("app","Firebase",G1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=$1;function wg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ou,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw An.create("bad-app-name",{appName:String(i)});if(n||(n=gg()),!n)throw An.create("no-options");const o=Xs.get(i);if(o){if(Du(n,o.options)&&Du(r,o.config))return o;throw An.create("duplicate-app",{appName:i})}const l=new J0(i);for(const c of Lu.values())l.addComponent(c);const u=new W1(n,r,l);return Xs.set(i,u),u}function K1(t=Ou){const e=Xs.get(t);if(!e&&t===Ou&&gg())return wg();if(!e)throw An.create("no-app",{appName:t});return e}function Lr(t,e,n){var r;let i=(r=b1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rn.warn(u.join(" "));return}Ys(new so(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="firebase-heartbeat-database",Y1=1,lo="firebase-heartbeat-store";let xa=null;function Tg(){return xa||(xa=h1(X1,Y1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lo)}catch(n){console.warn(n)}}}}).catch(t=>{throw An.create("idb-open",{originalErrorMessage:t.message})})),xa}async function J1(t){try{const n=(await Tg()).transaction(lo),r=await n.objectStore(lo).get(Sg(t));return await n.done,r}catch(e){if(e instanceof Jr)rn.warn(e.message);else{const n=An.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rn.warn(n.message)}}}async function Td(t,e){try{const r=(await Tg()).transaction(lo,"readwrite");await r.objectStore(lo).put(e,Sg(t)),await r.done}catch(n){if(n instanceof Jr)rn.warn(n.message);else{const r=An.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rn.warn(r.message)}}}function Sg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=1024,eE=30*24*60*60*1e3;class tE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Sd();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=eE}),this._storage.overwrite(this._heartbeatsCache))}catch(r){rn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sd(),{heartbeatsToSend:r,unsentEntries:i}=nE(this._heartbeatsCache.heartbeats),o=Ks(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return rn.warn(n),""}}}function Sd(){return new Date().toISOString().substring(0,10)}function nE(t,e=Z1){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),Id(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Id(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H0()?Q0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await J1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Td(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Td(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Id(t){return Ks(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t){Ys(new so("platform-logger",e=>new p1(e),"PRIVATE")),Ys(new so("heartbeat",e=>new tE(e),"PRIVATE")),Lr(xu,Ed,t),Lr(xu,Ed,"esm2017"),Lr("fire-js","")}iE("");var oE="firebase",sE="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(oE,sE,"app");var Ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ig;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(v,p){function g(){}g.prototype=p.prototype,v.D=p.prototype,v.prototype=new g,v.prototype.constructor=v,v.C=function(w,I,R){for(var E=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)E[dt-2]=arguments[dt];return p.prototype[I].apply(w,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(v,p,g){g||(g=0);var w=Array(16);if(typeof p=="string")for(var I=0;16>I;++I)w[I]=p.charCodeAt(g++)|p.charCodeAt(g++)<<8|p.charCodeAt(g++)<<16|p.charCodeAt(g++)<<24;else for(I=0;16>I;++I)w[I]=p[g++]|p[g++]<<8|p[g++]<<16|p[g++]<<24;p=v.g[0],g=v.g[1],I=v.g[2];var R=v.g[3],E=p+(R^g&(I^R))+w[0]+3614090360&4294967295;p=g+(E<<7&4294967295|E>>>25),E=R+(I^p&(g^I))+w[1]+3905402710&4294967295,R=p+(E<<12&4294967295|E>>>20),E=I+(g^R&(p^g))+w[2]+606105819&4294967295,I=R+(E<<17&4294967295|E>>>15),E=g+(p^I&(R^p))+w[3]+3250441966&4294967295,g=I+(E<<22&4294967295|E>>>10),E=p+(R^g&(I^R))+w[4]+4118548399&4294967295,p=g+(E<<7&4294967295|E>>>25),E=R+(I^p&(g^I))+w[5]+1200080426&4294967295,R=p+(E<<12&4294967295|E>>>20),E=I+(g^R&(p^g))+w[6]+2821735955&4294967295,I=R+(E<<17&4294967295|E>>>15),E=g+(p^I&(R^p))+w[7]+4249261313&4294967295,g=I+(E<<22&4294967295|E>>>10),E=p+(R^g&(I^R))+w[8]+1770035416&4294967295,p=g+(E<<7&4294967295|E>>>25),E=R+(I^p&(g^I))+w[9]+2336552879&4294967295,R=p+(E<<12&4294967295|E>>>20),E=I+(g^R&(p^g))+w[10]+4294925233&4294967295,I=R+(E<<17&4294967295|E>>>15),E=g+(p^I&(R^p))+w[11]+2304563134&4294967295,g=I+(E<<22&4294967295|E>>>10),E=p+(R^g&(I^R))+w[12]+1804603682&4294967295,p=g+(E<<7&4294967295|E>>>25),E=R+(I^p&(g^I))+w[13]+4254626195&4294967295,R=p+(E<<12&4294967295|E>>>20),E=I+(g^R&(p^g))+w[14]+2792965006&4294967295,I=R+(E<<17&4294967295|E>>>15),E=g+(p^I&(R^p))+w[15]+1236535329&4294967295,g=I+(E<<22&4294967295|E>>>10),E=p+(I^R&(g^I))+w[1]+4129170786&4294967295,p=g+(E<<5&4294967295|E>>>27),E=R+(g^I&(p^g))+w[6]+3225465664&4294967295,R=p+(E<<9&4294967295|E>>>23),E=I+(p^g&(R^p))+w[11]+643717713&4294967295,I=R+(E<<14&4294967295|E>>>18),E=g+(R^p&(I^R))+w[0]+3921069994&4294967295,g=I+(E<<20&4294967295|E>>>12),E=p+(I^R&(g^I))+w[5]+3593408605&4294967295,p=g+(E<<5&4294967295|E>>>27),E=R+(g^I&(p^g))+w[10]+38016083&4294967295,R=p+(E<<9&4294967295|E>>>23),E=I+(p^g&(R^p))+w[15]+3634488961&4294967295,I=R+(E<<14&4294967295|E>>>18),E=g+(R^p&(I^R))+w[4]+3889429448&4294967295,g=I+(E<<20&4294967295|E>>>12),E=p+(I^R&(g^I))+w[9]+568446438&4294967295,p=g+(E<<5&4294967295|E>>>27),E=R+(g^I&(p^g))+w[14]+3275163606&4294967295,R=p+(E<<9&4294967295|E>>>23),E=I+(p^g&(R^p))+w[3]+4107603335&4294967295,I=R+(E<<14&4294967295|E>>>18),E=g+(R^p&(I^R))+w[8]+1163531501&4294967295,g=I+(E<<20&4294967295|E>>>12),E=p+(I^R&(g^I))+w[13]+2850285829&4294967295,p=g+(E<<5&4294967295|E>>>27),E=R+(g^I&(p^g))+w[2]+4243563512&4294967295,R=p+(E<<9&4294967295|E>>>23),E=I+(p^g&(R^p))+w[7]+1735328473&4294967295,I=R+(E<<14&4294967295|E>>>18),E=g+(R^p&(I^R))+w[12]+2368359562&4294967295,g=I+(E<<20&4294967295|E>>>12),E=p+(g^I^R)+w[5]+4294588738&4294967295,p=g+(E<<4&4294967295|E>>>28),E=R+(p^g^I)+w[8]+2272392833&4294967295,R=p+(E<<11&4294967295|E>>>21),E=I+(R^p^g)+w[11]+1839030562&4294967295,I=R+(E<<16&4294967295|E>>>16),E=g+(I^R^p)+w[14]+4259657740&4294967295,g=I+(E<<23&4294967295|E>>>9),E=p+(g^I^R)+w[1]+2763975236&4294967295,p=g+(E<<4&4294967295|E>>>28),E=R+(p^g^I)+w[4]+1272893353&4294967295,R=p+(E<<11&4294967295|E>>>21),E=I+(R^p^g)+w[7]+4139469664&4294967295,I=R+(E<<16&4294967295|E>>>16),E=g+(I^R^p)+w[10]+3200236656&4294967295,g=I+(E<<23&4294967295|E>>>9),E=p+(g^I^R)+w[13]+681279174&4294967295,p=g+(E<<4&4294967295|E>>>28),E=R+(p^g^I)+w[0]+3936430074&4294967295,R=p+(E<<11&4294967295|E>>>21),E=I+(R^p^g)+w[3]+3572445317&4294967295,I=R+(E<<16&4294967295|E>>>16),E=g+(I^R^p)+w[6]+76029189&4294967295,g=I+(E<<23&4294967295|E>>>9),E=p+(g^I^R)+w[9]+3654602809&4294967295,p=g+(E<<4&4294967295|E>>>28),E=R+(p^g^I)+w[12]+3873151461&4294967295,R=p+(E<<11&4294967295|E>>>21),E=I+(R^p^g)+w[15]+530742520&4294967295,I=R+(E<<16&4294967295|E>>>16),E=g+(I^R^p)+w[2]+3299628645&4294967295,g=I+(E<<23&4294967295|E>>>9),E=p+(I^(g|~R))+w[0]+4096336452&4294967295,p=g+(E<<6&4294967295|E>>>26),E=R+(g^(p|~I))+w[7]+1126891415&4294967295,R=p+(E<<10&4294967295|E>>>22),E=I+(p^(R|~g))+w[14]+2878612391&4294967295,I=R+(E<<15&4294967295|E>>>17),E=g+(R^(I|~p))+w[5]+4237533241&4294967295,g=I+(E<<21&4294967295|E>>>11),E=p+(I^(g|~R))+w[12]+1700485571&4294967295,p=g+(E<<6&4294967295|E>>>26),E=R+(g^(p|~I))+w[3]+2399980690&4294967295,R=p+(E<<10&4294967295|E>>>22),E=I+(p^(R|~g))+w[10]+4293915773&4294967295,I=R+(E<<15&4294967295|E>>>17),E=g+(R^(I|~p))+w[1]+2240044497&4294967295,g=I+(E<<21&4294967295|E>>>11),E=p+(I^(g|~R))+w[8]+1873313359&4294967295,p=g+(E<<6&4294967295|E>>>26),E=R+(g^(p|~I))+w[15]+4264355552&4294967295,R=p+(E<<10&4294967295|E>>>22),E=I+(p^(R|~g))+w[6]+2734768916&4294967295,I=R+(E<<15&4294967295|E>>>17),E=g+(R^(I|~p))+w[13]+1309151649&4294967295,g=I+(E<<21&4294967295|E>>>11),E=p+(I^(g|~R))+w[4]+4149444226&4294967295,p=g+(E<<6&4294967295|E>>>26),E=R+(g^(p|~I))+w[11]+3174756917&4294967295,R=p+(E<<10&4294967295|E>>>22),E=I+(p^(R|~g))+w[2]+718787259&4294967295,I=R+(E<<15&4294967295|E>>>17),E=g+(R^(I|~p))+w[9]+3951481745&4294967295,v.g[0]=v.g[0]+p&4294967295,v.g[1]=v.g[1]+(I+(E<<21&4294967295|E>>>11))&4294967295,v.g[2]=v.g[2]+I&4294967295,v.g[3]=v.g[3]+R&4294967295}r.prototype.u=function(v,p){p===void 0&&(p=v.length);for(var g=p-this.blockSize,w=this.B,I=this.h,R=0;R<p;){if(I==0)for(;R<=g;)i(this,v,R),R+=this.blockSize;if(typeof v=="string"){for(;R<p;)if(w[I++]=v.charCodeAt(R++),I==this.blockSize){i(this,w),I=0;break}}else for(;R<p;)if(w[I++]=v[R++],I==this.blockSize){i(this,w),I=0;break}}this.h=I,this.o+=p},r.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var p=1;p<v.length-8;++p)v[p]=0;var g=8*this.o;for(p=v.length-8;p<v.length;++p)v[p]=g&255,g/=256;for(this.u(v),v=Array(16),p=g=0;4>p;++p)for(var w=0;32>w;w+=8)v[g++]=this.g[p]>>>w&255;return v};function o(v,p){var g=u;return Object.prototype.hasOwnProperty.call(g,v)?g[v]:g[v]=p(v)}function l(v,p){this.h=p;for(var g=[],w=!0,I=v.length-1;0<=I;I--){var R=v[I]|0;w&&R==p||(g[I]=R,w=!1)}this.g=g}var u={};function c(v){return-128<=v&&128>v?o(v,function(p){return new l([p|0],0>p?-1:0)}):new l([v|0],0>v?-1:0)}function f(v){if(isNaN(v)||!isFinite(v))return y;if(0>v)return F(f(-v));for(var p=[],g=1,w=0;v>=g;w++)p[w]=v/g|0,g*=4294967296;return new l(p,0)}function m(v,p){if(v.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(v.charAt(0)=="-")return F(m(v.substring(1),p));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var g=f(Math.pow(p,8)),w=y,I=0;I<v.length;I+=8){var R=Math.min(8,v.length-I),E=parseInt(v.substring(I,I+R),p);8>R?(R=f(Math.pow(p,R)),w=w.j(R).add(f(E))):(w=w.j(g),w=w.add(f(E)))}return w}var y=c(0),T=c(1),P=c(16777216);t=l.prototype,t.m=function(){if(V(this))return-F(this).m();for(var v=0,p=1,g=0;g<this.g.length;g++){var w=this.i(g);v+=(0<=w?w:4294967296+w)*p,p*=4294967296}return v},t.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D(this))return"0";if(V(this))return"-"+F(this).toString(v);for(var p=f(Math.pow(v,6)),g=this,w="";;){var I=N(g,p).g;g=S(g,I.j(p));var R=((0<g.g.length?g.g[0]:g.h)>>>0).toString(v);if(g=I,D(g))return R+w;for(;6>R.length;)R="0"+R;w=R+w}},t.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function D(v){if(v.h!=0)return!1;for(var p=0;p<v.g.length;p++)if(v.g[p]!=0)return!1;return!0}function V(v){return v.h==-1}t.l=function(v){return v=S(this,v),V(v)?-1:D(v)?0:1};function F(v){for(var p=v.g.length,g=[],w=0;w<p;w++)g[w]=~v.g[w];return new l(g,~v.h).add(T)}t.abs=function(){return V(this)?F(this):this},t.add=function(v){for(var p=Math.max(this.g.length,v.g.length),g=[],w=0,I=0;I<=p;I++){var R=w+(this.i(I)&65535)+(v.i(I)&65535),E=(R>>>16)+(this.i(I)>>>16)+(v.i(I)>>>16);w=E>>>16,R&=65535,E&=65535,g[I]=E<<16|R}return new l(g,g[g.length-1]&-2147483648?-1:0)};function S(v,p){return v.add(F(p))}t.j=function(v){if(D(this)||D(v))return y;if(V(this))return V(v)?F(this).j(F(v)):F(F(this).j(v));if(V(v))return F(this.j(F(v)));if(0>this.l(P)&&0>v.l(P))return f(this.m()*v.m());for(var p=this.g.length+v.g.length,g=[],w=0;w<2*p;w++)g[w]=0;for(w=0;w<this.g.length;w++)for(var I=0;I<v.g.length;I++){var R=this.i(w)>>>16,E=this.i(w)&65535,dt=v.i(I)>>>16,Ln=v.i(I)&65535;g[2*w+2*I]+=E*Ln,_(g,2*w+2*I),g[2*w+2*I+1]+=R*Ln,_(g,2*w+2*I+1),g[2*w+2*I+1]+=E*dt,_(g,2*w+2*I+1),g[2*w+2*I+2]+=R*dt,_(g,2*w+2*I+2)}for(w=0;w<p;w++)g[w]=g[2*w+1]<<16|g[2*w];for(w=p;w<2*p;w++)g[w]=0;return new l(g,0)};function _(v,p){for(;(v[p]&65535)!=v[p];)v[p+1]+=v[p]>>>16,v[p]&=65535,p++}function A(v,p){this.g=v,this.h=p}function N(v,p){if(D(p))throw Error("division by zero");if(D(v))return new A(y,y);if(V(v))return p=N(F(v),p),new A(F(p.g),F(p.h));if(V(p))return p=N(v,F(p)),new A(F(p.g),p.h);if(30<v.g.length){if(V(v)||V(p))throw Error("slowDivide_ only works with positive integers.");for(var g=T,w=p;0>=w.l(v);)g=U(g),w=U(w);var I=z(g,1),R=z(w,1);for(w=z(w,2),g=z(g,2);!D(w);){var E=R.add(w);0>=E.l(v)&&(I=I.add(g),R=E),w=z(w,1),g=z(g,1)}return p=S(v,I.j(p)),new A(I,p)}for(I=y;0<=v.l(p);){for(g=Math.max(1,Math.floor(v.m()/p.m())),w=Math.ceil(Math.log(g)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),R=f(g),E=R.j(p);V(E)||0<E.l(v);)g-=w,R=f(g),E=R.j(p);D(R)&&(R=T),I=I.add(R),v=S(v,E)}return new A(I,v)}t.A=function(v){return N(this,v).h},t.and=function(v){for(var p=Math.max(this.g.length,v.g.length),g=[],w=0;w<p;w++)g[w]=this.i(w)&v.i(w);return new l(g,this.h&v.h)},t.or=function(v){for(var p=Math.max(this.g.length,v.g.length),g=[],w=0;w<p;w++)g[w]=this.i(w)|v.i(w);return new l(g,this.h|v.h)},t.xor=function(v){for(var p=Math.max(this.g.length,v.g.length),g=[],w=0;w<p;w++)g[w]=this.i(w)^v.i(w);return new l(g,this.h^v.h)};function U(v){for(var p=v.g.length+1,g=[],w=0;w<p;w++)g[w]=v.i(w)<<1|v.i(w-1)>>>31;return new l(g,v.h)}function z(v,p){var g=p>>5;p%=32;for(var w=v.g.length-g,I=[],R=0;R<w;R++)I[R]=0<p?v.i(R+g)>>>p|v.i(R+g+1)<<32-p:v.i(R+g);return new l(I,v.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,Ig=l}).apply(typeof Ad<"u"?Ad:typeof self<"u"?self:typeof window<"u"?window:{});var is=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ag,Pi,Cg,ws,Mu,Rg,Pg,kg;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,a,h){return s==Array.prototype||s==Object.prototype||(s[a]=h.value),s};function n(s){s=[typeof globalThis=="object"&&globalThis,s,typeof window=="object"&&window,typeof self=="object"&&self,typeof is=="object"&&is];for(var a=0;a<s.length;++a){var h=s[a];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(s,a){if(a)e:{var h=r;s=s.split(".");for(var d=0;d<s.length-1;d++){var C=s[d];if(!(C in h))break e;h=h[C]}s=s[s.length-1],d=h[s],a=a(d),a!=d&&a!=null&&e(h,s,{configurable:!0,writable:!0,value:a})}}function o(s,a){s instanceof String&&(s+="");var h=0,d=!1,C={next:function(){if(!d&&h<s.length){var k=h++;return{value:a(k,s[k]),done:!1}}return d=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(s){return s||function(){return o(this,function(a,h){return h})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function c(s){var a=typeof s;return a=a!="object"?a:s?Array.isArray(s)?"array":a:"null",a=="array"||a=="object"&&typeof s.length=="number"}function f(s){var a=typeof s;return a=="object"&&s!=null||a=="function"}function m(s,a,h){return s.call.apply(s.bind,arguments)}function y(s,a,h){if(!s)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,d),s.apply(a,C)}}return function(){return s.apply(a,arguments)}}function T(s,a,h){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,T.apply(null,arguments)}function P(s,a){var h=Array.prototype.slice.call(arguments,1);return function(){var d=h.slice();return d.push.apply(d,arguments),s.apply(this,d)}}function D(s,a){function h(){}h.prototype=a.prototype,s.aa=a.prototype,s.prototype=new h,s.prototype.constructor=s,s.Qb=function(d,C,k){for(var M=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)M[ne-2]=arguments[ne];return a.prototype[C].apply(d,M)}}function V(s){const a=s.length;if(0<a){const h=Array(a);for(let d=0;d<a;d++)h[d]=s[d];return h}return[]}function F(s,a){for(let h=1;h<arguments.length;h++){const d=arguments[h];if(c(d)){const C=s.length||0,k=d.length||0;s.length=C+k;for(let M=0;M<k;M++)s[C+M]=d[M]}else s.push(d)}}class S{constructor(a,h){this.i=a,this.j=h,this.h=0,this.g=null}get(){let a;return 0<this.h?(this.h--,a=this.g,this.g=a.next,a.next=null):a=this.i(),a}}function _(s){return/^[\s\xa0]*$/.test(s)}function A(){var s=u.navigator;return s&&(s=s.userAgent)?s:""}function N(s){return N[" "](s),s}N[" "]=function(){};var U=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function z(s,a,h){for(const d in s)a.call(h,s[d],d,s)}function v(s,a){for(const h in s)a.call(void 0,s[h],h,s)}function p(s){const a={};for(const h in s)a[h]=s[h];return a}const g="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(s,a){let h,d;for(let C=1;C<arguments.length;C++){d=arguments[C];for(h in d)s[h]=d[h];for(let k=0;k<g.length;k++)h=g[k],Object.prototype.hasOwnProperty.call(d,h)&&(s[h]=d[h])}}function I(s){var a=1;s=s.split(":");const h=[];for(;0<a&&s.length;)h.push(s.shift()),a--;return s.length&&h.push(s.join(":")),h}function R(s){u.setTimeout(()=>{throw s},0)}function E(){var s=H;let a=null;return s.g&&(a=s.g,s.g=s.g.next,s.g||(s.h=null),a.next=null),a}class dt{constructor(){this.h=this.g=null}add(a,h){const d=Ln.get();d.set(a,h),this.h?this.h.next=d:this.g=d,this.h=d}}var Ln=new S(()=>new ti,s=>s.reset());class ti{constructor(){this.next=this.g=this.h=null}set(a,h){this.h=a,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let zt,B=!1,H=new dt,Q=()=>{const s=u.Promise.resolve(void 0);zt=()=>{s.then(ce)}};var ce=()=>{for(var s;s=E();){try{s.h.call(s.g)}catch(h){R(h)}var a=Ln;a.j(s),100>a.h&&(a.h++,s.next=a.g,a.g=s)}B=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(s,a){this.type=s,this.g=this.target=a,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var Bt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var s=!1,a=Object.defineProperty({},"passive",{get:function(){s=!0}});try{const h=()=>{};u.addEventListener("test",h,a),u.removeEventListener("test",h,a)}catch{}return s}();function jt(s,a){if(ve.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var h=this.type=s.type,d=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=a,a=s.relatedTarget){if(U){e:{try{N(a.nodeName);var C=!0;break e}catch{}C=!1}C||(a=null)}}else h=="mouseover"?a=s.fromElement:h=="mouseout"&&(a=s.toElement);this.relatedTarget=a,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:$t[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&jt.aa.h.call(this)}}D(jt,ve);var $t={2:"touch",3:"pen",4:"mouse"};jt.prototype.h=function(){jt.aa.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var bt="closure_listenable_"+(1e6*Math.random()|0),Iy=0;function Ay(s,a,h,d,C){this.listener=s,this.proxy=null,this.src=a,this.type=h,this.capture=!!d,this.ha=C,this.key=++Iy,this.da=this.fa=!1}function So(s){s.da=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function Io(s){this.src=s,this.g={},this.h=0}Io.prototype.add=function(s,a,h,d,C){var k=s.toString();s=this.g[k],s||(s=this.g[k]=[],this.h++);var M=Ml(s,a,d,C);return-1<M?(a=s[M],h||(a.fa=!1)):(a=new Ay(a,this.src,k,!!d,C),a.fa=h,s.push(a)),a};function Ll(s,a){var h=a.type;if(h in s.g){var d=s.g[h],C=Array.prototype.indexOf.call(d,a,void 0),k;(k=0<=C)&&Array.prototype.splice.call(d,C,1),k&&(So(a),s.g[h].length==0&&(delete s.g[h],s.h--))}}function Ml(s,a,h,d){for(var C=0;C<s.length;++C){var k=s[C];if(!k.da&&k.listener==a&&k.capture==!!h&&k.ha==d)return C}return-1}var Fl="closure_lm_"+(1e6*Math.random()|0),Ul={};function sh(s,a,h,d,C){if(Array.isArray(a)){for(var k=0;k<a.length;k++)sh(s,a[k],h,d,C);return null}return h=uh(h),s&&s[bt]?s.K(a,h,f(d)?!!d.capture:!!d,C):Cy(s,a,h,!1,d,C)}function Cy(s,a,h,d,C,k){if(!a)throw Error("Invalid event type");var M=f(C)?!!C.capture:!!C,ne=Bl(s);if(ne||(s[Fl]=ne=new Io(s)),h=ne.add(a,h,d,M,k),h.proxy)return h;if(d=Ry(),h.proxy=d,d.src=s,d.listener=h,s.addEventListener)Bt||(C=M),C===void 0&&(C=!1),s.addEventListener(a.toString(),d,C);else if(s.attachEvent)s.attachEvent(ah(a.toString()),d);else if(s.addListener&&s.removeListener)s.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");return h}function Ry(){function s(h){return a.call(s.src,s.listener,h)}const a=Py;return s}function lh(s,a,h,d,C){if(Array.isArray(a))for(var k=0;k<a.length;k++)lh(s,a[k],h,d,C);else d=f(d)?!!d.capture:!!d,h=uh(h),s&&s[bt]?(s=s.i,a=String(a).toString(),a in s.g&&(k=s.g[a],h=Ml(k,h,d,C),-1<h&&(So(k[h]),Array.prototype.splice.call(k,h,1),k.length==0&&(delete s.g[a],s.h--)))):s&&(s=Bl(s))&&(a=s.g[a.toString()],s=-1,a&&(s=Ml(a,h,d,C)),(h=-1<s?a[s]:null)&&zl(h))}function zl(s){if(typeof s!="number"&&s&&!s.da){var a=s.src;if(a&&a[bt])Ll(a.i,s);else{var h=s.type,d=s.proxy;a.removeEventListener?a.removeEventListener(h,d,s.capture):a.detachEvent?a.detachEvent(ah(h),d):a.addListener&&a.removeListener&&a.removeListener(d),(h=Bl(a))?(Ll(h,s),h.h==0&&(h.src=null,a[Fl]=null)):So(s)}}}function ah(s){return s in Ul?Ul[s]:Ul[s]="on"+s}function Py(s,a){if(s.da)s=!0;else{a=new jt(a,this);var h=s.listener,d=s.ha||s.src;s.fa&&zl(s),s=h.call(d,a)}return s}function Bl(s){return s=s[Fl],s instanceof Io?s:null}var jl="__closure_events_fn_"+(1e9*Math.random()>>>0);function uh(s){return typeof s=="function"?s:(s[jl]||(s[jl]=function(a){return s.handleEvent(a)}),s[jl])}function Fe(){te.call(this),this.i=new Io(this),this.M=this,this.F=null}D(Fe,te),Fe.prototype[bt]=!0,Fe.prototype.removeEventListener=function(s,a,h,d){lh(this,s,a,h,d)};function We(s,a){var h,d=s.F;if(d)for(h=[];d;d=d.F)h.push(d);if(s=s.M,d=a.type||a,typeof a=="string")a=new ve(a,s);else if(a instanceof ve)a.target=a.target||s;else{var C=a;a=new ve(d,s),w(a,C)}if(C=!0,h)for(var k=h.length-1;0<=k;k--){var M=a.g=h[k];C=Ao(M,d,!0,a)&&C}if(M=a.g=s,C=Ao(M,d,!0,a)&&C,C=Ao(M,d,!1,a)&&C,h)for(k=0;k<h.length;k++)M=a.g=h[k],C=Ao(M,d,!1,a)&&C}Fe.prototype.N=function(){if(Fe.aa.N.call(this),this.i){var s=this.i,a;for(a in s.g){for(var h=s.g[a],d=0;d<h.length;d++)So(h[d]);delete s.g[a],s.h--}}this.F=null},Fe.prototype.K=function(s,a,h,d){return this.i.add(String(s),a,!1,h,d)},Fe.prototype.L=function(s,a,h,d){return this.i.add(String(s),a,!0,h,d)};function Ao(s,a,h,d){if(a=s.i.g[String(a)],!a)return!0;a=a.concat();for(var C=!0,k=0;k<a.length;++k){var M=a[k];if(M&&!M.da&&M.capture==h){var ne=M.listener,ke=M.ha||M.src;M.fa&&Ll(s.i,M),C=ne.call(ke,d)!==!1&&C}}return C&&!d.defaultPrevented}function ch(s,a,h){if(typeof s=="function")h&&(s=T(s,h));else if(s&&typeof s.handleEvent=="function")s=T(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:u.setTimeout(s,a||0)}function hh(s){s.g=ch(()=>{s.g=null,s.i&&(s.i=!1,hh(s))},s.l);const a=s.h;s.h=null,s.m.apply(null,a)}class ky extends te{constructor(a,h){super(),this.m=a,this.l=h,this.h=null,this.i=!1,this.g=null}j(a){this.h=arguments,this.g?this.i=!0:hh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ni(s){te.call(this),this.h=s,this.g={}}D(ni,te);var fh=[];function dh(s){z(s.g,function(a,h){this.g.hasOwnProperty(h)&&zl(a)},s),s.g={}}ni.prototype.N=function(){ni.aa.N.call(this),dh(this)},ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $l=u.JSON.stringify,Dy=u.JSON.parse,Ny=class{stringify(s){return u.JSON.stringify(s,void 0)}parse(s){return u.JSON.parse(s,void 0)}};function bl(){}bl.prototype.h=null;function ph(s){return s.h||(s.h=s.i())}function mh(){}var ri={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hl(){ve.call(this,"d")}D(Hl,ve);function Ql(){ve.call(this,"c")}D(Ql,ve);var Mn={},gh=null;function Co(){return gh=gh||new Fe}Mn.La="serverreachability";function yh(s){ve.call(this,Mn.La,s)}D(yh,ve);function ii(s){const a=Co();We(a,new yh(a))}Mn.STAT_EVENT="statevent";function vh(s,a){ve.call(this,Mn.STAT_EVENT,s),this.stat=a}D(vh,ve);function qe(s){const a=Co();We(a,new vh(a,s))}Mn.Ma="timingevent";function _h(s,a){ve.call(this,Mn.Ma,s),this.size=a}D(_h,ve);function oi(s,a){if(typeof s!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){s()},a)}function si(){this.g=!0}si.prototype.xa=function(){this.g=!1};function Vy(s,a,h,d,C,k){s.info(function(){if(s.g)if(k)for(var M="",ne=k.split("&"),ke=0;ke<ne.length;ke++){var J=ne[ke].split("=");if(1<J.length){var Ue=J[0];J=J[1];var ze=Ue.split("_");M=2<=ze.length&&ze[1]=="type"?M+(Ue+"="+J+"&"):M+(Ue+"=redacted&")}}else M=null;else M=k;return"XMLHTTP REQ ("+d+") [attempt "+C+"]: "+a+`
`+h+`
`+M})}function xy(s,a,h,d,C,k,M){s.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+C+"]: "+a+`
`+h+`
`+k+" "+M})}function cr(s,a,h,d){s.info(function(){return"XMLHTTP TEXT ("+a+"): "+Ly(s,h)+(d?" "+d:"")})}function Oy(s,a){s.info(function(){return"TIMEOUT: "+a})}si.prototype.info=function(){};function Ly(s,a){if(!s.g)return a;if(!a)return null;try{var h=JSON.parse(a);if(h){for(s=0;s<h.length;s++)if(Array.isArray(h[s])){var d=h[s];if(!(2>d.length)){var C=d[1];if(Array.isArray(C)&&!(1>C.length)){var k=C[0];if(k!="noop"&&k!="stop"&&k!="close")for(var M=1;M<C.length;M++)C[M]=""}}}}return $l(h)}catch{return a}}var Ro={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Eh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gl;function Po(){}D(Po,bl),Po.prototype.g=function(){return new XMLHttpRequest},Po.prototype.i=function(){return{}},Gl=new Po;function sn(s,a,h,d){this.j=s,this.i=a,this.l=h,this.R=d||1,this.U=new ni(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wh}function wh(){this.i=null,this.g="",this.h=!1}var Th={},Wl={};function ql(s,a,h){s.L=1,s.v=Vo(Ht(a)),s.m=h,s.P=!0,Sh(s,null)}function Sh(s,a){s.F=Date.now(),ko(s),s.A=Ht(s.v);var h=s.A,d=s.R;Array.isArray(d)||(d=[String(d)]),Fh(h.i,"t",d),s.C=0,h=s.j.J,s.h=new wh,s.g=tf(s.j,h?a:null,!s.m),0<s.O&&(s.M=new ky(T(s.Y,s,s.g),s.O)),a=s.U,h=s.g,d=s.ca;var C="readystatechange";Array.isArray(C)||(C&&(fh[0]=C.toString()),C=fh);for(var k=0;k<C.length;k++){var M=sh(h,C[k],d||a.handleEvent,!1,a.h||a);if(!M)break;a.g[M.key]=M}a=s.H?p(s.H):{},s.m?(s.u||(s.u="POST"),a["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.m,a)):(s.u="GET",s.g.ea(s.A,s.u,null,a)),ii(),Vy(s.i,s.u,s.A,s.l,s.R,s.m)}sn.prototype.ca=function(s){s=s.target;const a=this.M;a&&Qt(s)==3?a.j():this.Y(s)},sn.prototype.Y=function(s){try{if(s==this.g)e:{const ze=Qt(this.g);var a=this.g.Ba();const dr=this.g.Z();if(!(3>ze)&&(ze!=3||this.g&&(this.h.h||this.g.oa()||Hh(this.g)))){this.J||ze!=4||a==7||(a==8||0>=dr?ii(3):ii(2)),Kl(this);var h=this.g.Z();this.X=h;t:if(Ih(this)){var d=Hh(this.g);s="";var C=d.length,k=Qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fn(this),li(this);var M="";break t}this.h.i=new u.TextDecoder}for(a=0;a<C;a++)this.h.h=!0,s+=this.h.i.decode(d[a],{stream:!(k&&a==C-1)});d.length=0,this.h.g+=s,this.C=0,M=this.h.g}else M=this.g.oa();if(this.o=h==200,xy(this.i,this.u,this.A,this.l,this.R,ze,h),this.o){if(this.T&&!this.K){t:{if(this.g){var ne,ke=this.g;if((ne=ke.g?ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(ne)){var J=ne;break t}}J=null}if(h=J)cr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xl(this,h);else{this.o=!1,this.s=3,qe(12),Fn(this),li(this);break e}}if(this.P){h=!0;let Et;for(;!this.J&&this.C<M.length;)if(Et=My(this,M),Et==Wl){ze==4&&(this.s=4,qe(14),h=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Th){this.s=4,qe(15),cr(this.i,this.l,M,"[Invalid Chunk]"),h=!1;break}else cr(this.i,this.l,Et,null),Xl(this,Et);if(Ih(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||M.length!=0||this.h.h||(this.s=1,qe(16),h=!1),this.o=this.o&&h,!h)cr(this.i,this.l,M,"[Invalid Chunked Response]"),Fn(this),li(this);else if(0<M.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),na(Ue),Ue.M=!0,qe(11))}}else cr(this.i,this.l,M,null),Xl(this,M);ze==4&&Fn(this),this.o&&!this.J&&(ze==4?Yh(this.j,this):(this.o=!1,ko(this)))}else Zy(this.g),h==400&&0<M.indexOf("Unknown SID")?(this.s=3,qe(12)):(this.s=0,qe(13)),Fn(this),li(this)}}}catch{}finally{}};function Ih(s){return s.g?s.u=="GET"&&s.L!=2&&s.j.Ca:!1}function My(s,a){var h=s.C,d=a.indexOf(`
`,h);return d==-1?Wl:(h=Number(a.substring(h,d)),isNaN(h)?Th:(d+=1,d+h>a.length?Wl:(a=a.slice(d,d+h),s.C=d+h,a)))}sn.prototype.cancel=function(){this.J=!0,Fn(this)};function ko(s){s.S=Date.now()+s.I,Ah(s,s.I)}function Ah(s,a){if(s.B!=null)throw Error("WatchDog timer not null");s.B=oi(T(s.ba,s),a)}function Kl(s){s.B&&(u.clearTimeout(s.B),s.B=null)}sn.prototype.ba=function(){this.B=null;const s=Date.now();0<=s-this.S?(Oy(this.i,this.A),this.L!=2&&(ii(),qe(17)),Fn(this),this.s=2,li(this)):Ah(this,this.S-s)};function li(s){s.j.G==0||s.J||Yh(s.j,s)}function Fn(s){Kl(s);var a=s.M;a&&typeof a.ma=="function"&&a.ma(),s.M=null,dh(s.U),s.g&&(a=s.g,s.g=null,a.abort(),a.ma())}function Xl(s,a){try{var h=s.j;if(h.G!=0&&(h.g==s||Yl(h.h,s))){if(!s.K&&Yl(h.h,s)&&h.G==3){try{var d=h.Da.g.parse(a)}catch{d=null}if(Array.isArray(d)&&d.length==3){var C=d;if(C[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<s.F)Uo(h),Mo(h);else break e;ta(h),qe(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=oi(T(h.Za,h),6e3));if(1>=Ph(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else zn(h,11)}else if((s.K||h.g==s)&&Uo(h),!_(a))for(C=h.Da.g.parse(a),a=0;a<C.length;a++){let J=C[a];if(h.T=J[0],J=J[1],h.G==2)if(J[0]=="c"){h.K=J[1],h.ia=J[2];const Ue=J[3];Ue!=null&&(h.la=Ue,h.j.info("VER="+h.la));const ze=J[4];ze!=null&&(h.Aa=ze,h.j.info("SVER="+h.Aa));const dr=J[5];dr!=null&&typeof dr=="number"&&0<dr&&(d=1.5*dr,h.L=d,h.j.info("backChannelRequestTimeoutMs_="+d)),d=h;const Et=s.g;if(Et){const Bo=Et.g?Et.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bo){var k=d.h;k.g||Bo.indexOf("spdy")==-1&&Bo.indexOf("quic")==-1&&Bo.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Jl(k,k.h),k.h=null))}if(d.D){const ra=Et.g?Et.g.getResponseHeader("X-HTTP-Session-Id"):null;ra&&(d.ya=ra,oe(d.I,d.D,ra))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-s.F,h.j.info("Handshake RTT: "+h.R+"ms")),d=h;var M=s;if(d.qa=ef(d,d.J?d.ia:null,d.W),M.K){kh(d.h,M);var ne=M,ke=d.L;ke&&(ne.I=ke),ne.B&&(Kl(ne),ko(ne)),d.g=M}else Kh(d);0<h.i.length&&Fo(h)}else J[0]!="stop"&&J[0]!="close"||zn(h,7);else h.G==3&&(J[0]=="stop"||J[0]=="close"?J[0]=="stop"?zn(h,7):ea(h):J[0]!="noop"&&h.l&&h.l.ta(J),h.v=0)}}ii(4)}catch{}}var Fy=class{constructor(s,a){this.g=s,this.map=a}};function Ch(s){this.l=s||10,u.PerformanceNavigationTiming?(s=u.performance.getEntriesByType("navigation"),s=0<s.length&&(s[0].nextHopProtocol=="hq"||s[0].nextHopProtocol=="h2")):s=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rh(s){return s.h?!0:s.g?s.g.size>=s.j:!1}function Ph(s){return s.h?1:s.g?s.g.size:0}function Yl(s,a){return s.h?s.h==a:s.g?s.g.has(a):!1}function Jl(s,a){s.g?s.g.add(a):s.h=a}function kh(s,a){s.h&&s.h==a?s.h=null:s.g&&s.g.has(a)&&s.g.delete(a)}Ch.prototype.cancel=function(){if(this.i=Dh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const s of this.g.values())s.cancel();this.g.clear()}};function Dh(s){if(s.h!=null)return s.i.concat(s.h.D);if(s.g!=null&&s.g.size!==0){let a=s.i;for(const h of s.g.values())a=a.concat(h.D);return a}return V(s.i)}function Uy(s){if(s.V&&typeof s.V=="function")return s.V();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if(typeof s=="string")return s.split("");if(c(s)){for(var a=[],h=s.length,d=0;d<h;d++)a.push(s[d]);return a}a=[],h=0;for(d in s)a[h++]=s[d];return a}function zy(s){if(s.na&&typeof s.na=="function")return s.na();if(!s.V||typeof s.V!="function"){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(c(s)||typeof s=="string"){var a=[];s=s.length;for(var h=0;h<s;h++)a.push(h);return a}a=[],h=0;for(const d in s)a[h++]=d;return a}}}function Nh(s,a){if(s.forEach&&typeof s.forEach=="function")s.forEach(a,void 0);else if(c(s)||typeof s=="string")Array.prototype.forEach.call(s,a,void 0);else for(var h=zy(s),d=Uy(s),C=d.length,k=0;k<C;k++)a.call(void 0,d[k],h&&h[k],s)}var Vh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function By(s,a){if(s){s=s.split("&");for(var h=0;h<s.length;h++){var d=s[h].indexOf("="),C=null;if(0<=d){var k=s[h].substring(0,d);C=s[h].substring(d+1)}else k=s[h];a(k,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Un(s){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,s instanceof Un){this.h=s.h,Do(this,s.j),this.o=s.o,this.g=s.g,No(this,s.s),this.l=s.l;var a=s.i,h=new ci;h.i=a.i,a.g&&(h.g=new Map(a.g),h.h=a.h),xh(this,h),this.m=s.m}else s&&(a=String(s).match(Vh))?(this.h=!1,Do(this,a[1]||"",!0),this.o=ai(a[2]||""),this.g=ai(a[3]||"",!0),No(this,a[4]),this.l=ai(a[5]||"",!0),xh(this,a[6]||"",!0),this.m=ai(a[7]||"")):(this.h=!1,this.i=new ci(null,this.h))}Un.prototype.toString=function(){var s=[],a=this.j;a&&s.push(ui(a,Oh,!0),":");var h=this.g;return(h||a=="file")&&(s.push("//"),(a=this.o)&&s.push(ui(a,Oh,!0),"@"),s.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&s.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&s.push("/"),s.push(ui(h,h.charAt(0)=="/"?by:$y,!0))),(h=this.i.toString())&&s.push("?",h),(h=this.m)&&s.push("#",ui(h,Qy)),s.join("")};function Ht(s){return new Un(s)}function Do(s,a,h){s.j=h?ai(a,!0):a,s.j&&(s.j=s.j.replace(/:$/,""))}function No(s,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);s.s=a}else s.s=null}function xh(s,a,h){a instanceof ci?(s.i=a,Gy(s.i,s.h)):(h||(a=ui(a,Hy)),s.i=new ci(a,s.h))}function oe(s,a,h){s.i.set(a,h)}function Vo(s){return oe(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function ai(s,a){return s?a?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function ui(s,a,h){return typeof s=="string"?(s=encodeURI(s).replace(a,jy),h&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function jy(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var Oh=/[#\/\?@]/g,$y=/[#\?:]/g,by=/[#\?]/g,Hy=/[#\?@]/g,Qy=/#/g;function ci(s,a){this.h=this.g=null,this.i=s||null,this.j=!!a}function ln(s){s.g||(s.g=new Map,s.h=0,s.i&&By(s.i,function(a,h){s.add(decodeURIComponent(a.replace(/\+/g," ")),h)}))}t=ci.prototype,t.add=function(s,a){ln(this),this.i=null,s=hr(this,s);var h=this.g.get(s);return h||this.g.set(s,h=[]),h.push(a),this.h+=1,this};function Lh(s,a){ln(s),a=hr(s,a),s.g.has(a)&&(s.i=null,s.h-=s.g.get(a).length,s.g.delete(a))}function Mh(s,a){return ln(s),a=hr(s,a),s.g.has(a)}t.forEach=function(s,a){ln(this),this.g.forEach(function(h,d){h.forEach(function(C){s.call(a,C,d,this)},this)},this)},t.na=function(){ln(this);const s=Array.from(this.g.values()),a=Array.from(this.g.keys()),h=[];for(let d=0;d<a.length;d++){const C=s[d];for(let k=0;k<C.length;k++)h.push(a[d])}return h},t.V=function(s){ln(this);let a=[];if(typeof s=="string")Mh(this,s)&&(a=a.concat(this.g.get(hr(this,s))));else{s=Array.from(this.g.values());for(let h=0;h<s.length;h++)a=a.concat(s[h])}return a},t.set=function(s,a){return ln(this),this.i=null,s=hr(this,s),Mh(this,s)&&(this.h-=this.g.get(s).length),this.g.set(s,[a]),this.h+=1,this},t.get=function(s,a){return s?(s=this.V(s),0<s.length?String(s[0]):a):a};function Fh(s,a,h){Lh(s,a),0<h.length&&(s.i=null,s.g.set(hr(s,a),V(h)),s.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],a=Array.from(this.g.keys());for(var h=0;h<a.length;h++){var d=a[h];const k=encodeURIComponent(String(d)),M=this.V(d);for(d=0;d<M.length;d++){var C=k;M[d]!==""&&(C+="="+encodeURIComponent(String(M[d]))),s.push(C)}}return this.i=s.join("&")};function hr(s,a){return a=String(a),s.j&&(a=a.toLowerCase()),a}function Gy(s,a){a&&!s.j&&(ln(s),s.i=null,s.g.forEach(function(h,d){var C=d.toLowerCase();d!=C&&(Lh(this,d),Fh(this,C,h))},s)),s.j=a}function Wy(s,a){const h=new si;if(u.Image){const d=new Image;d.onload=P(an,h,"TestLoadImage: loaded",!0,a,d),d.onerror=P(an,h,"TestLoadImage: error",!1,a,d),d.onabort=P(an,h,"TestLoadImage: abort",!1,a,d),d.ontimeout=P(an,h,"TestLoadImage: timeout",!1,a,d),u.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=s}else a(!1)}function qy(s,a){const h=new si,d=new AbortController,C=setTimeout(()=>{d.abort(),an(h,"TestPingServer: timeout",!1,a)},1e4);fetch(s,{signal:d.signal}).then(k=>{clearTimeout(C),k.ok?an(h,"TestPingServer: ok",!0,a):an(h,"TestPingServer: server error",!1,a)}).catch(()=>{clearTimeout(C),an(h,"TestPingServer: error",!1,a)})}function an(s,a,h,d,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),d(h)}catch{}}function Ky(){this.g=new Ny}function Xy(s,a,h){const d=h||"";try{Nh(s,function(C,k){let M=C;f(C)&&(M=$l(C)),a.push(d+k+"="+encodeURIComponent(M))})}catch(C){throw a.push(d+"type="+encodeURIComponent("_badmap")),C}}function xo(s){this.l=s.Ub||null,this.j=s.eb||!1}D(xo,bl),xo.prototype.g=function(){return new Oo(this.l,this.j)},xo.prototype.i=function(s){return function(){return s}}({});function Oo(s,a){Fe.call(this),this.D=s,this.o=a,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Oo,Fe),t=Oo.prototype,t.open=function(s,a){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=s,this.A=a,this.readyState=1,fi(this)},t.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const a={headers:this.u,method:this.B,credentials:this.m,cache:void 0};s&&(a.body=s),(this.D||u).fetch(new Request(this.A,a)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},t.Sa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")s.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uh(this)}else s.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uh(s){s.j.read().then(s.Pa.bind(s)).catch(s.ga.bind(s))}t.Pa=function(s){if(this.g){if(this.o&&s.value)this.response.push(s.value);else if(!this.o){var a=s.value?s.value:new Uint8Array(0);(a=this.v.decode(a,{stream:!s.done}))&&(this.response=this.responseText+=a)}s.done?hi(this):fi(this),this.readyState==3&&Uh(this)}},t.Ra=function(s){this.g&&(this.response=this.responseText=s,hi(this))},t.Qa=function(s){this.g&&(this.response=s,hi(this))},t.ga=function(){this.g&&hi(this)};function hi(s){s.readyState=4,s.l=null,s.j=null,s.v=null,fi(s)}t.setRequestHeader=function(s,a){this.u.append(s,a)},t.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],a=this.h.entries();for(var h=a.next();!h.done;)h=h.value,s.push(h[0]+": "+h[1]),h=a.next();return s.join(`\r
`)};function fi(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(Oo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(s){this.m=s?"include":"same-origin"}});function zh(s){let a="";return z(s,function(h,d){a+=d,a+=":",a+=h,a+=`\r
`}),a}function Zl(s,a,h){e:{for(d in h){var d=!1;break e}d=!0}d||(h=zh(h),typeof s=="string"?h!=null&&encodeURIComponent(String(h)):oe(s,a,h))}function pe(s){Fe.call(this),this.headers=new Map,this.o=s||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(pe,Fe);var Yy=/^https?$/i,Jy=["POST","PUT"];t=pe.prototype,t.Ha=function(s){this.J=s},t.ea=function(s,a,h,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+s);a=a?a.toUpperCase():"GET",this.D=s,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gl.g(),this.v=this.o?ph(this.o):ph(Gl),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(a,String(s),!0),this.B=!1}catch(k){Bh(this,k);return}if(s=h||"",h=new Map(this.headers),d)if(Object.getPrototypeOf(d)===Object.prototype)for(var C in d)h.set(C,d[C]);else if(typeof d.keys=="function"&&typeof d.get=="function")for(const k of d.keys())h.set(k,d.get(k));else throw Error("Unknown input type for opt_headers: "+String(d));d=Array.from(h.keys()).find(k=>k.toLowerCase()=="content-type"),C=u.FormData&&s instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Jy,a,void 0))||d||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,M]of h)this.g.setRequestHeader(k,M);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bh(this),this.u=!0,this.g.send(s),this.u=!1}catch(k){Bh(this,k)}};function Bh(s,a){s.h=!1,s.g&&(s.j=!0,s.g.abort(),s.j=!1),s.l=a,s.m=5,jh(s),Lo(s)}function jh(s){s.A||(s.A=!0,We(s,"complete"),We(s,"error"))}t.abort=function(s){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=s||7,We(this,"complete"),We(this,"abort"),Lo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lo(this,!0)),pe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$h(this):this.bb())},t.bb=function(){$h(this)};function $h(s){if(s.h&&typeof l<"u"&&(!s.v[1]||Qt(s)!=4||s.Z()!=2)){if(s.u&&Qt(s)==4)ch(s.Ea,0,s);else if(We(s,"readystatechange"),Qt(s)==4){s.h=!1;try{const M=s.Z();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}var h;if(!(h=a)){var d;if(d=M===0){var C=String(s.D).match(Vh)[1]||null;!C&&u.self&&u.self.location&&(C=u.self.location.protocol.slice(0,-1)),d=!Yy.test(C?C.toLowerCase():"")}h=d}if(h)We(s,"complete"),We(s,"success");else{s.m=6;try{var k=2<Qt(s)?s.g.statusText:""}catch{k=""}s.l=k+" ["+s.Z()+"]",jh(s)}}finally{Lo(s)}}}}function Lo(s,a){if(s.g){bh(s);const h=s.g,d=s.v[0]?()=>{}:null;s.g=null,s.v=null,a||We(s,"ready");try{h.onreadystatechange=d}catch{}}}function bh(s){s.I&&(u.clearTimeout(s.I),s.I=null)}t.isActive=function(){return!!this.g};function Qt(s){return s.g?s.g.readyState:0}t.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(s){if(this.g){var a=this.g.responseText;return s&&a.indexOf(s)==0&&(a=a.substring(s.length)),Dy(a)}};function Hh(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.H){case"":case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function Zy(s){const a={};s=(s.g&&2<=Qt(s)&&s.g.getAllResponseHeaders()||"").split(`\r
`);for(let d=0;d<s.length;d++){if(_(s[d]))continue;var h=I(s[d]);const C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();const k=a[C]||[];a[C]=k,k.push(h)}v(a,function(d){return d.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(s,a,h){return h&&h.internalChannelParams&&h.internalChannelParams[s]||a}function Qh(s){this.Aa=0,this.i=[],this.j=new si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=di("failFast",!1,s),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=di("baseRetryDelayMs",5e3,s),this.cb=di("retryDelaySeedMs",1e4,s),this.Wa=di("forwardChannelMaxRetries",2,s),this.wa=di("forwardChannelRequestTimeoutMs",2e4,s),this.pa=s&&s.xmlHttpFactory||void 0,this.Xa=s&&s.Tb||void 0,this.Ca=s&&s.useFetchStreams||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.h=new Ch(s&&s.concurrentRequestLimit),this.Da=new Ky,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=s&&s.Rb||!1,s&&s.xa&&this.j.xa(),s&&s.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&s&&s.detectBufferingProxy||!1,this.ja=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.ja=s.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qh.prototype,t.la=8,t.G=1,t.connect=function(s,a,h,d){qe(0),this.W=s,this.H=a||{},h&&d!==void 0&&(this.H.OSID=h,this.H.OAID=d),this.F=this.X,this.I=ef(this,null,this.W),Fo(this)};function ea(s){if(Gh(s),s.G==3){var a=s.U++,h=Ht(s.I);if(oe(h,"SID",s.K),oe(h,"RID",a),oe(h,"TYPE","terminate"),pi(s,h),a=new sn(s,s.j,a),a.L=2,a.v=Vo(Ht(h)),h=!1,u.navigator&&u.navigator.sendBeacon)try{h=u.navigator.sendBeacon(a.v.toString(),"")}catch{}!h&&u.Image&&(new Image().src=a.v,h=!0),h||(a.g=tf(a.j,null),a.g.ea(a.v)),a.F=Date.now(),ko(a)}Zh(s)}function Mo(s){s.g&&(na(s),s.g.cancel(),s.g=null)}function Gh(s){Mo(s),s.u&&(u.clearTimeout(s.u),s.u=null),Uo(s),s.h.cancel(),s.s&&(typeof s.s=="number"&&u.clearTimeout(s.s),s.s=null)}function Fo(s){if(!Rh(s.h)&&!s.s){s.s=!0;var a=s.Ga;zt||Q(),B||(zt(),B=!0),H.add(a,s),s.B=0}}function ev(s,a){return Ph(s.h)>=s.h.j-(s.s?1:0)?!1:s.s?(s.i=a.D.concat(s.i),!0):s.G==1||s.G==2||s.B>=(s.Va?0:s.Wa)?!1:(s.s=oi(T(s.Ga,s,a),Jh(s,s.B)),s.B++,!0)}t.Ga=function(s){if(this.s)if(this.s=null,this.G==1){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;const C=new sn(this,this.j,s);let k=this.o;if(this.S&&(k?(k=p(k),w(k,this.S)):k=this.S),this.m!==null||this.O||(C.H=k,k=null),this.P)e:{for(var a=0,h=0;h<this.i.length;h++){t:{var d=this.i[h];if("__data__"in d.map&&(d=d.map.__data__,typeof d=="string")){d=d.length;break t}d=void 0}if(d===void 0)break;if(a+=d,4096<a){a=h;break e}if(a===4096||h===this.i.length-1){a=h+1;break e}}a=1e3}else a=1e3;a=qh(this,C,a),h=Ht(this.I),oe(h,"RID",s),oe(h,"CVER",22),this.D&&oe(h,"X-HTTP-Session-Id",this.D),pi(this,h),k&&(this.O?a="headers="+encodeURIComponent(String(zh(k)))+"&"+a:this.m&&Zl(h,this.m,k)),Jl(this.h,C),this.Ua&&oe(h,"TYPE","init"),this.P?(oe(h,"$req",a),oe(h,"SID","null"),C.T=!0,ql(C,h,null)):ql(C,h,a),this.G=2}}else this.G==3&&(s?Wh(this,s):this.i.length==0||Rh(this.h)||Wh(this))};function Wh(s,a){var h;a?h=a.l:h=s.U++;const d=Ht(s.I);oe(d,"SID",s.K),oe(d,"RID",h),oe(d,"AID",s.T),pi(s,d),s.m&&s.o&&Zl(d,s.m,s.o),h=new sn(s,s.j,h,s.B+1),s.m===null&&(h.H=s.o),a&&(s.i=a.D.concat(s.i)),a=qh(s,h,1e3),h.I=Math.round(.5*s.wa)+Math.round(.5*s.wa*Math.random()),Jl(s.h,h),ql(h,d,a)}function pi(s,a){s.H&&z(s.H,function(h,d){oe(a,d,h)}),s.l&&Nh({},function(h,d){oe(a,d,h)})}function qh(s,a,h){h=Math.min(s.i.length,h);var d=s.l?T(s.l.Na,s.l,s):null;e:{var C=s.i;let k=-1;for(;;){const M=["count="+h];k==-1?0<h?(k=C[0].g,M.push("ofs="+k)):k=0:M.push("ofs="+k);let ne=!0;for(let ke=0;ke<h;ke++){let J=C[ke].g;const Ue=C[ke].map;if(J-=k,0>J)k=Math.max(0,C[ke].g-100),ne=!1;else try{Xy(Ue,M,"req"+J+"_")}catch{d&&d(Ue)}}if(ne){d=M.join("&");break e}}}return s=s.i.splice(0,h),a.D=s,d}function Kh(s){if(!s.g&&!s.u){s.Y=1;var a=s.Fa;zt||Q(),B||(zt(),B=!0),H.add(a,s),s.v=0}}function ta(s){return s.g||s.u||3<=s.v?!1:(s.Y++,s.u=oi(T(s.Fa,s),Jh(s,s.v)),s.v++,!0)}t.Fa=function(){if(this.u=null,Xh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var s=2*this.R;this.j.info("BP detection timer enabled: "+s),this.A=oi(T(this.ab,this),s)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qe(10),Mo(this),Xh(this))};function na(s){s.A!=null&&(u.clearTimeout(s.A),s.A=null)}function Xh(s){s.g=new sn(s,s.j,"rpc",s.Y),s.m===null&&(s.g.H=s.o),s.g.O=0;var a=Ht(s.qa);oe(a,"RID","rpc"),oe(a,"SID",s.K),oe(a,"AID",s.T),oe(a,"CI",s.F?"0":"1"),!s.F&&s.ja&&oe(a,"TO",s.ja),oe(a,"TYPE","xmlhttp"),pi(s,a),s.m&&s.o&&Zl(a,s.m,s.o),s.L&&(s.g.I=s.L);var h=s.g;s=s.ia,h.L=1,h.v=Vo(Ht(a)),h.m=null,h.P=!0,Sh(h,s)}t.Za=function(){this.C!=null&&(this.C=null,Mo(this),ta(this),qe(19))};function Uo(s){s.C!=null&&(u.clearTimeout(s.C),s.C=null)}function Yh(s,a){var h=null;if(s.g==a){Uo(s),na(s),s.g=null;var d=2}else if(Yl(s.h,a))h=a.D,kh(s.h,a),d=1;else return;if(s.G!=0){if(a.o)if(d==1){h=a.m?a.m.length:0,a=Date.now()-a.F;var C=s.B;d=Co(),We(d,new _h(d,h)),Fo(s)}else Kh(s);else if(C=a.s,C==3||C==0&&0<a.X||!(d==1&&ev(s,a)||d==2&&ta(s)))switch(h&&0<h.length&&(a=s.h,a.i=a.i.concat(h)),C){case 1:zn(s,5);break;case 4:zn(s,10);break;case 3:zn(s,6);break;default:zn(s,2)}}}function Jh(s,a){let h=s.Ta+Math.floor(Math.random()*s.cb);return s.isActive()||(h*=2),h*a}function zn(s,a){if(s.j.info("Error code "+a),a==2){var h=T(s.fb,s),d=s.Xa;const C=!d;d=new Un(d||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Do(d,"https"),Vo(d),C?Wy(d.toString(),h):qy(d.toString(),h)}else qe(2);s.G=0,s.l&&s.l.sa(a),Zh(s),Gh(s)}t.fb=function(s){s?(this.j.info("Successfully pinged google.com"),qe(2)):(this.j.info("Failed to ping google.com"),qe(1))};function Zh(s){if(s.G=0,s.ka=[],s.l){const a=Dh(s.h);(a.length!=0||s.i.length!=0)&&(F(s.ka,a),F(s.ka,s.i),s.h.i.length=0,V(s.i),s.i.length=0),s.l.ra()}}function ef(s,a,h){var d=h instanceof Un?Ht(h):new Un(h);if(d.g!="")a&&(d.g=a+"."+d.g),No(d,d.s);else{var C=u.location;d=C.protocol,a=a?a+"."+C.hostname:C.hostname,C=+C.port;var k=new Un(null);d&&Do(k,d),a&&(k.g=a),C&&No(k,C),h&&(k.l=h),d=k}return h=s.D,a=s.ya,h&&a&&oe(d,h,a),oe(d,"VER",s.la),pi(s,d),d}function tf(s,a,h){if(a&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return a=s.Ca&&!s.pa?new pe(new xo({eb:h})):new pe(s.pa),a.Ha(s.J),a}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nf(){}t=nf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zo(){}zo.prototype.g=function(s,a){return new st(s,a)};function st(s,a){Fe.call(this),this.g=new Qh(a),this.l=s,this.h=a&&a.messageUrlParams||null,s=a&&a.messageHeaders||null,a&&a.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.o=s,s=a&&a.initMessageHeaders||null,a&&a.messageContentType&&(s?s["X-WebChannel-Content-Type"]=a.messageContentType:s={"X-WebChannel-Content-Type":a.messageContentType}),a&&a.va&&(s?s["X-WebChannel-Client-Profile"]=a.va:s={"X-WebChannel-Client-Profile":a.va}),this.g.S=s,(s=a&&a.Sb)&&!_(s)&&(this.g.m=s),this.v=a&&a.supportsCrossDomainXhr||!1,this.u=a&&a.sendRawJson||!1,(a=a&&a.httpSessionIdParam)&&!_(a)&&(this.g.D=a,s=this.h,s!==null&&a in s&&(s=this.h,a in s&&delete s[a])),this.j=new fr(this)}D(st,Fe),st.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},st.prototype.close=function(){ea(this.g)},st.prototype.o=function(s){var a=this.g;if(typeof s=="string"){var h={};h.__data__=s,s=h}else this.u&&(h={},h.__data__=$l(s),s=h);a.i.push(new Fy(a.Ya++,s)),a.G==3&&Fo(a)},st.prototype.N=function(){this.g.l=null,delete this.j,ea(this.g),delete this.g,st.aa.N.call(this)};function rf(s){Hl.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var a=s.__sm__;if(a){e:{for(const h in a){s=h;break e}s=void 0}(this.i=s)&&(s=this.i,a=a!==null&&s in a?a[s]:void 0),this.data=a}else this.data=s}D(rf,Hl);function of(){Ql.call(this),this.status=1}D(of,Ql);function fr(s){this.g=s}D(fr,nf),fr.prototype.ua=function(){We(this.g,"a")},fr.prototype.ta=function(s){We(this.g,new rf(s))},fr.prototype.sa=function(s){We(this.g,new of)},fr.prototype.ra=function(){We(this.g,"b")},zo.prototype.createWebChannel=zo.prototype.g,st.prototype.send=st.prototype.o,st.prototype.open=st.prototype.m,st.prototype.close=st.prototype.close,kg=function(){return new zo},Pg=function(){return Co()},Rg=Mn,Mu={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ro.NO_ERROR=0,Ro.TIMEOUT=8,Ro.HTTP_ERROR=6,ws=Ro,Eh.COMPLETE="complete",Cg=Eh,mh.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",Fe.prototype.listen=Fe.prototype.K,Pi=mh,pe.prototype.listenOnce=pe.prototype.L,pe.prototype.getLastError=pe.prototype.Ka,pe.prototype.getLastErrorCode=pe.prototype.Ba,pe.prototype.getStatus=pe.prototype.Z,pe.prototype.getResponseJson=pe.prototype.Oa,pe.prototype.getResponseText=pe.prototype.oa,pe.prototype.send=pe.prototype.ea,pe.prototype.setWithCredentials=pe.prototype.Ha,Ag=pe}).apply(typeof is<"u"?is:typeof self<"u"?self:typeof window<"u"?window:{});const Cd="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}be.UNAUTHENTICATED=new be(null),be.GOOGLE_CREDENTIALS=new be("google-credentials-uid"),be.FIRST_PARTY=new be("first-party-uid"),be.MOCK_USER=new be("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zr="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new vg("@firebase/firestore");function mr(){return nr.logLevel}function $(t,...e){if(nr.logLevel<=X.DEBUG){const n=e.map(jc);nr.debug(`Firestore (${Zr}): ${t}`,...n)}}function rr(t,...e){if(nr.logLevel<=X.ERROR){const n=e.map(jc);nr.error(`Firestore (${Zr}): ${t}`,...n)}}function Js(t,...e){if(nr.logLevel<=X.WARN){const n=e.map(jc);nr.warn(`Firestore (${Zr}): ${t}`,...n)}}function jc(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t="Unexpected state"){const e=`FIRESTORE (${Zr}) INTERNAL ASSERTION FAILED: `+t;throw rr(e),new Error(e)}function ye(t,e){t||q()}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends Jr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(be.UNAUTHENTICATED))}shutdown(){}}class aE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uE{constructor(e){this.t=e,this.currentUser=be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ye(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Kn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Kn,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Kn)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string"),new Dg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string"),new be(e)}}class cE{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=be.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class hE{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new cE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(be.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dE{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ye(this.o===void 0);const r=o=>{o.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,$("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string"),this.R=n.token,new fE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pE(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Z(t,e){return t<e?-1:t>e?1:0}function Hr(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static now(){return Pe.fromMillis(Date.now())}static fromDate(e){return Pe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Pe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new Pe(0,0))}static max(){return new ae(new Pe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(),r===void 0?r=e.length-n:r>e.length-n&&q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ao.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ao?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),l=n.get(i);if(o<l)return-1;if(o>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ge extends ao{construct(e,n,r){return new ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const mE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xe extends ao{construct(e,n,r){return new xe(e,n,r)}static isValidIdentifier(e){return mE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new b(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new b(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new b(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new b(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xe(n)}static emptyPath(){return new xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(ge.fromString(e))}static fromName(e){return new G(ge.fromString(e).popFirst(5))}static empty(){return new G(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new ge(e.slice()))}}function gE(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new Pe(n+1,0):new Pe(n,r));return new kn(i,G.empty(),e)}function yE(t){return new kn(t.readTime,t.key,-1)}class kn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kn(ae.min(),G.empty(),-1)}static max(){return new kn(ae.max(),G.empty(),-1)}}function vE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:Z(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==_E)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new x((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):x.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):x.reject(n)}static resolve(e){return new x((n,r)=>{n(e)})}static reject(e){return new x((n,r)=>{r(e)})}static waitFor(e){return new x((n,r)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&n()},c=>r(c))}),l=!0,o===i&&n()})}static or(e){let n=x.resolve(!1);for(const r of e)n=n.next(i=>i?x.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new x((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next(m=>{l[f]=m,++u,u===o&&r(l)},m=>i(m))}})}static doWhile(e,n){return new x((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function wE(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}bc.oe=-1;function Hc(t){return t==null}function Zs(t){return t===0&&1/t==-1/0}function TE(t){return typeof t=="number"&&Number.isInteger(t)&&!Zs(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Rd(e)),e=IE(t.get(n),e);return Rd(e)}function IE(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Rd(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ei(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Vg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Ne.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ne.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ne.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new os(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new os(this.root,e,this.comparator,!1)}getReverseIterator(){return new os(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new os(this.root,e,this.comparator,!0)}}class os{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ne{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ne.RED,this.left=i??Ne.EMPTY,this.right=o??Ne.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ne(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ne.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ne.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ne.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ne.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();const e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}}Ne.EMPTY=null,Ne.RED=!0,Ne.BLACK=!1;Ne.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ne(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kd(this.data.getIterator())}getIteratorFrom(e){return new kd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Le)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Le(this.comparator);return n.data=e,n}}class kd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.fields=e,e.sort(xe.comparator)}static empty(){return new Pt([])}unionWith(e){let n=new Le(xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new AE("Invalid base64 string: "+o):o}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const CE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(t){if(ye(!!t),typeof t=="string"){let e=0;const n=CE.exec(t);if(ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qr(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Gc(t){const e=t.mapValue.fields.__previous_value__;return Qc(e)?Gc(e):e}function el(t){const e=ir(t.mapValue.fields.__local_write_time__.timestampValue);return new Pe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,n,r,i,o,l,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f}}class tl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new tl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof tl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function or(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qc(t)?4:kE(t)?9007199254740991:PE(t)?10:11:q()}function Ut(t,e){if(t===e)return!0;const n=or(t);if(n!==or(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return el(t).isEqual(el(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=ir(i.timestampValue),u=ir(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Qr(i.bytesValue).isEqual(Qr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ve(i.geoPointValue.latitude)===Ve(o.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ve(i.integerValue)===Ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Ve(i.doubleValue),u=Ve(o.doubleValue);return l===u?Zs(l)===Zs(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return Hr(t.arrayValue.values||[],e.arrayValue.values||[],Ut);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(Pd(l)!==Pd(u))return!1;for(const c in l)if(l.hasOwnProperty(c)&&(u[c]===void 0||!Ut(l[c],u[c])))return!1;return!0}(t,e);default:return q()}}function uo(t,e){return(t.values||[]).find(n=>Ut(n,e))!==void 0}function Gr(t,e){if(t===e)return 0;const n=or(t),r=or(e);if(n!==r)return Z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Z(t.booleanValue,e.booleanValue);case 2:return function(o,l){const u=Ve(o.integerValue||o.doubleValue),c=Ve(l.integerValue||l.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return Dd(t.timestampValue,e.timestampValue);case 4:return Dd(el(t),el(e));case 5:return Z(t.stringValue,e.stringValue);case 6:return function(o,l){const u=Qr(o),c=Qr(l);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),c=l.split("/");for(let f=0;f<u.length&&f<c.length;f++){const m=Z(u[f],c[f]);if(m!==0)return m}return Z(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const u=Z(Ve(o.latitude),Ve(l.latitude));return u!==0?u:Z(Ve(o.longitude),Ve(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Nd(t.arrayValue,e.arrayValue);case 10:return function(o,l){var u,c,f,m;const y=o.fields||{},T=l.fields||{},P=(u=y.value)===null||u===void 0?void 0:u.arrayValue,D=(c=T.value)===null||c===void 0?void 0:c.arrayValue,V=Z(((f=P==null?void 0:P.values)===null||f===void 0?void 0:f.length)||0,((m=D==null?void 0:D.values)===null||m===void 0?void 0:m.length)||0);return V!==0?V:Nd(P,D)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===ss.mapValue&&l===ss.mapValue)return 0;if(o===ss.mapValue)return 1;if(l===ss.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),f=l.fields||{},m=Object.keys(f);c.sort(),m.sort();for(let y=0;y<c.length&&y<m.length;++y){const T=Z(c[y],m[y]);if(T!==0)return T;const P=Gr(u[c[y]],f[m[y]]);if(P!==0)return P}return Z(c.length,m.length)}(t.mapValue,e.mapValue);default:throw q()}}function Dd(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Z(t,e);const n=ir(t),r=ir(e),i=Z(n.seconds,r.seconds);return i!==0?i:Z(n.nanos,r.nanos)}function Nd(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Gr(n[i],r[i]);if(o)return o}return Z(n.length,r.length)}function Wr(t){return Fu(t)}function Fu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ir(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Fu(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Fu(n.fields[l])}`;return i+"}"}(t.mapValue):q()}function Ts(t){switch(or(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gc(t);return e?16+Ts(e):16;case 5:return 2*t.stringValue.length;case 6:return Qr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ts(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ei(r.fields,(o,l)=>{i+=o.length+Ts(l)}),i}(t.mapValue);default:throw q()}}function Uu(t){return!!t&&"integerValue"in t}function Wc(t){return!!t&&"arrayValue"in t}function Ss(t){return!!t&&"mapValue"in t}function PE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ui(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ei(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ui(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ui(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.value=e}static empty(){return new Rt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ss(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ui(n)}setAll(e){let n=xe.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Ui(l):i.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Ss(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ut(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ss(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ei(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Rt(Ui(this.value))}}function xg(t){const e=[];return ei(t.fields,(n,r)=>{const i=new xe([n]);if(Ss(r)){const o=xg(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Pt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,r,i,o,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Ct(e,0,ae.min(),ae.min(),ae.min(),Rt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ct(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new Ct(e,2,n,ae.min(),ae.min(),Rt.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,ae.min(),ae.min(),Rt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.position=e,this.inclusive=n}}function Vd(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(l.referenceValue),n.key):r=Gr(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function xd(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ut(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n="asc"){this.field=e,this.dir=n}}function DE(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{}class Ce extends Og{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VE(e,n,r):n==="array-contains"?new LE(e,r):n==="in"?new ME(e,r):n==="not-in"?new FE(e,r):n==="array-contains-any"?new UE(e,r):new Ce(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xE(e,r):new OE(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gr(n,this.value)):n!==null&&or(this.value)===or(n)&&this.matchesComparison(Gr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dn extends Og{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Dn(e,n)}matches(e){return Lg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Lg(t){return t.op==="and"}function Mg(t){return NE(t)&&Lg(t)}function NE(t){for(const e of t.filters)if(e instanceof Dn)return!1;return!0}function zu(t){if(t instanceof Ce)return t.field.canonicalString()+t.op.toString()+Wr(t.value);if(Mg(t))return t.filters.map(e=>zu(e)).join(",");{const e=t.filters.map(n=>zu(n)).join(",");return`${t.op}(${e})`}}function Fg(t,e){return t instanceof Ce?function(r,i){return i instanceof Ce&&r.op===i.op&&r.field.isEqual(i.field)&&Ut(r.value,i.value)}(t,e):t instanceof Dn?function(r,i){return i instanceof Dn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,u)=>o&&Fg(l,i.filters[u]),!0):!1}(t,e):void q()}function Ug(t){return t instanceof Ce?function(n){return`${n.field.canonicalString()} ${n.op} ${Wr(n.value)}`}(t):t instanceof Dn?function(n){return n.op.toString()+" {"+n.getFilters().map(Ug).join(" ,")+"}"}(t):"Filter"}class VE extends Ce{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class xE extends Ce{constructor(e,n){super(e,"in",n),this.keys=zg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OE extends Ce{constructor(e,n){super(e,"not-in",n),this.keys=zg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zg(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class LE extends Ce{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wc(n)&&uo(n.arrayValue,this.value)}}class ME extends Ce{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uo(this.value.arrayValue,n)}}class FE extends Ce{constructor(e,n){super(e,"not-in",n)}matches(e){if(uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!uo(this.value.arrayValue,n)}}class UE extends Ce{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>uo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.ue=null}}function Od(t,e=null,n=[],r=[],i=null,o=null,l=null){return new zE(t,e,n,r,i,o,l)}function qc(t){const e=ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zu(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Hc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wr(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wr(r)).join(",")),e.ue=n}return e.ue}function Kc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DE(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Fg(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xd(t.startAt,e.startAt)&&xd(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n=null,r=[],i=[],o=null,l="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function BE(t,e,n,r,i,o,l,u){return new Rl(t,e,n,r,i,o,l,u)}function jE(t){return new Rl(t)}function Ld(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $E(t){return t.collectionGroup!==null}function zi(t){const e=ie(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Le(xe.comparator);return l.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new rl(o,r))}),n.has(xe.keyField().canonicalString())||e.ce.push(new rl(xe.keyField(),r))}return e.ce}function Xn(t){const e=ie(t);return e.le||(e.le=bE(e,zi(t))),e.le}function bE(t,e){if(t.limitType==="F")return Od(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new rl(i.field,o)});const n=t.endAt?new nl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nl(t.startAt.position,t.startAt.inclusive):null;return Od(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bu(t,e,n){return new Rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bg(t,e){return Kc(Xn(t),Xn(e))&&t.limitType===e.limitType}function jg(t){return`${qc(Xn(t))}|lt:${t.limitType}`}function Si(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Ug(i)).join(", ")}]`),Hc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Wr(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Wr(i)).join(",")),`Target(${r})`}(Xn(t))}; limitType=${t.limitType})`}function Xc(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of zi(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,u,c){const f=Vd(l,u,c);return l.inclusive?f<=0:f<0}(r.startAt,zi(r),i)||r.endAt&&!function(l,u,c){const f=Vd(l,u,c);return l.inclusive?f>=0:f>0}(r.endAt,zi(r),i))}(t,e)}function HE(t){return(e,n)=>{let r=!1;for(const i of zi(t)){const o=QE(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function QE(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(o,l,u){const c=l.data.field(o),f=u.data.field(o);return c!==null&&f!==null?Gr(c,f):q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ei(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Vg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=new ot(G.comparator);function il(){return GE}const $g=new ot(G.comparator);function ls(...t){let e=$g;for(const n of t)e=e.insert(n.key,n);return e}function bg(t){let e=$g;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gn(){return Bi()}function Hg(){return Bi()}function Bi(){return new ar(t=>t.toString(),(t,e)=>t.isEqual(e))}const WE=new ot(G.comparator),qE=new Le(G.comparator);function Qe(...t){let e=qE;for(const n of t)e=e.add(n);return e}const KE=new Le(Z);function XE(){return KE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zs(e)?"-0":e}}function Qg(t){return{integerValue:""+t}}function YE(t,e){return TE(e)?Qg(e):Yc(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this._=void 0}}function JE(t,e,n){return t instanceof ol?function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Qc(o)&&(o=Gc(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(n,e):t instanceof co?Wg(t,e):t instanceof ho?qg(t,e):function(i,o){const l=Gg(i,o),u=Md(l)+Md(i.Pe);return Uu(l)&&Uu(i.Pe)?Qg(u):Yc(i.serializer,u)}(t,e)}function ZE(t,e,n){return t instanceof co?Wg(t,e):t instanceof ho?qg(t,e):n}function Gg(t,e){return t instanceof sl?function(r){return Uu(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ol extends Pl{}class co extends Pl{constructor(e){super(),this.elements=e}}function Wg(t,e){const n=Kg(e);for(const r of t.elements)n.some(i=>Ut(i,r))||n.push(r);return{arrayValue:{values:n}}}class ho extends Pl{constructor(e){super(),this.elements=e}}function qg(t,e){let n=Kg(e);for(const r of t.elements)n=n.filter(i=>!Ut(i,r));return{arrayValue:{values:n}}}class sl extends Pl{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Md(t){return Ve(t.integerValue||t.doubleValue)}function Kg(t){return Wc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ew(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof co&&i instanceof co||r instanceof ho&&i instanceof ho?Hr(r.elements,i.elements,Ut):r instanceof sl&&i instanceof sl?Ut(r.Pe,i.Pe):r instanceof ol&&i instanceof ol}(t.transform,e.transform)}class tw{constructor(e,n){this.version=e,this.transformResults=n}}class Yt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yt}static exists(e){return new Yt(void 0,e)}static updateTime(e){return new Yt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Is(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kl{}function Xg(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jg(t.key,Yt.none()):new Eo(t.key,t.data,Yt.none());{const n=t.data,r=Rt.empty();let i=new Le(xe.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new ur(t.key,r,new Pt(i.toArray()),Yt.none())}}function nw(t,e,n){t instanceof Eo?function(i,o,l){const u=i.value.clone(),c=Ud(i.fieldTransforms,o,l.transformResults);u.setAll(c),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof ur?function(i,o,l){if(!Is(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=Ud(i.fieldTransforms,o,l.transformResults),c=o.data;c.setAll(Yg(i)),c.setAll(u),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function ji(t,e,n,r){return t instanceof Eo?function(o,l,u,c){if(!Is(o.precondition,l))return u;const f=o.value.clone(),m=zd(o.fieldTransforms,c,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof ur?function(o,l,u,c){if(!Is(o.precondition,l))return u;const f=zd(o.fieldTransforms,c,l),m=l.data;return m.setAll(Yg(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(o,l,u){return Is(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function rw(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Gg(r.transform,i||null);o!=null&&(n===null&&(n=Rt.empty()),n.set(r.field,o))}return n||null}function Fd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hr(r,i,(o,l)=>ew(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eo extends kl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ur extends kl{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Yg(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ud(t,e,n){const r=new Map;ye(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,ZE(l,u,n[i]))}return r}function zd(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,JE(o,l,e))}return r}class Jg extends kl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iw extends kl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&nw(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ji(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ji(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Hg();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(i.key)?null:u;const c=Xg(l,u);c!==null&&r.set(i.key,c),l.isValidDocument()||l.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&Hr(this.mutations,e.mutations,(n,r)=>Fd(n,r))&&Hr(this.baseMutations,e.baseMutations,(n,r)=>Fd(n,r))}}class Jc{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ye(e.mutations.length===r.length);let i=function(){return WE}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new Jc(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,K;function lw(t){switch(t){default:return q();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function aw(t){if(t===void 0)return rr("GRPC error has no .code"),L.UNKNOWN;switch(t){case Ee.OK:return L.OK;case Ee.CANCELLED:return L.CANCELLED;case Ee.UNKNOWN:return L.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return L.INTERNAL;case Ee.UNAVAILABLE:return L.UNAVAILABLE;case Ee.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Ee.NOT_FOUND:return L.NOT_FOUND;case Ee.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Ee.ABORTED:return L.ABORTED;case Ee.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Ee.DATA_LOSS:return L.DATA_LOSS;default:return q()}}(K=Ee||(Ee={}))[K.OK=0]="OK",K[K.CANCELLED=1]="CANCELLED",K[K.UNKNOWN=2]="UNKNOWN",K[K.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",K[K.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",K[K.NOT_FOUND=5]="NOT_FOUND",K[K.ALREADY_EXISTS=6]="ALREADY_EXISTS",K[K.PERMISSION_DENIED=7]="PERMISSION_DENIED",K[K.UNAUTHENTICATED=16]="UNAUTHENTICATED",K[K.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",K[K.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",K[K.ABORTED=10]="ABORTED",K[K.OUT_OF_RANGE=11]="OUT_OF_RANGE",K[K.UNIMPLEMENTED=12]="UNIMPLEMENTED",K[K.INTERNAL=13]="INTERNAL",K[K.UNAVAILABLE=14]="UNAVAILABLE",K[K.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Ig([4294967295,4294967295],0);class uw{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ju(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hw(t,e){return ju(t,e.toTimestamp())}function Mr(t){return ye(!!t),ae.fromTimestamp(function(n){const r=ir(n);return new Pe(r.seconds,r.nanos)}(t))}function Zg(t,e){return $u(t,e).canonicalString()}function $u(t,e){const n=function(i){return new ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fw(t){const e=ge.fromString(t);return ye(Ew(e)),e}function bu(t,e){return Zg(t.databaseId,e.path)}function dw(t){const e=fw(t);return e.length===4?ge.emptyPath():mw(e)}function pw(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mw(t){return ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Bd(t,e,n){return{name:bu(t,e),fields:n.value.mapValue.fields}}function gw(t,e){let n;if(e instanceof Eo)n={update:Bd(t,e.key,e.value)};else if(e instanceof Jg)n={delete:bu(t,e.key)};else if(e instanceof ur)n={update:Bd(t,e.key,e.data),updateMask:_w(e.fieldMask)};else{if(!(e instanceof iw))return q();n={verify:bu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof ol)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof co)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ho)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof sl)return{fieldPath:l.field.canonicalString(),increment:u.Pe};throw q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:hw(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q()}(t,e.precondition)),n}function yw(t,e){return t&&t.length>0?(ye(e!==void 0),t.map(n=>function(i,o){let l=i.updateTime?Mr(i.updateTime):Mr(o);return l.isEqual(ae.min())&&(l=Mr(o)),new tw(l,i.transformResults||[])}(n,e))):[]}function vw(t){let e=dw(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ye(r===1);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(y){const T=ey(y);return T instanceof Dn&&Mg(T)?T.getFilters():[T]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(T=>function(D){return new rl(gr(D.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(T))}(n.orderBy));let u=null;n.limit&&(u=function(y){let T;return T=typeof y=="object"?y.value:y,Hc(T)?null:T}(n.limit));let c=null;n.startAt&&(c=function(y){const T=!!y.before,P=y.values||[];return new nl(P,T)}(n.startAt));let f=null;return n.endAt&&(f=function(y){const T=!y.before,P=y.values||[];return new nl(P,T)}(n.endAt)),BE(e,i,l,o,u,"F",c,f)}function ey(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gr(n.unaryFilter.field);return Ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=gr(n.unaryFilter.field);return Ce.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=gr(n.unaryFilter.field);return Ce.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=gr(n.unaryFilter.field);return Ce.create(l,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(t):t.fieldFilter!==void 0?function(n){return Ce.create(gr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dn.create(n.compositeFilter.filters.map(r=>ey(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q()}}(n.compositeFilter.op))}(t):q()}function gr(t){return xe.fromServerFormat(t.fieldPath)}function _w(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ew(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.ht=e}}function Tw(t){const e=vw({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.ln=new Iw}addToCollectionParentIndex(e,n){return this.ln.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(kn.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(kn.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}}class Iw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Le(ge.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Le(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ze{static withCacheSize(e){return new Ze(e,Ze.DEFAULT_COLLECTION_PERCENTILE,Ze.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ze.DEFAULT_COLLECTION_PERCENTILE=10,Ze.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ze.DEFAULT=new Ze(41943040,Ze.DEFAULT_COLLECTION_PERCENTILE,Ze.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ze.DISABLED=new Ze(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new qr(0)}static Qn(){return new qr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d([t,e],[n,r]){const i=Z(t,n);return i===0?Z(e,r):i}class Aw{constructor(e){this.Gn=e,this.buffer=new Le($d),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();$d(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Cw{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){$("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?$("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await $c(n)}await this.Yn(3e5)})}}class Rw{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return x.resolve(bc.oe);const r=new Aw(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(jd)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jd):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,o,l,u,c,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,u=Date.now(),this.removeTargets(e,r,n))).next(y=>(o=y,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(f=Date.now(),mr()<=X.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(c-u)+`ms
	Removed ${y} documents in `+(f-c)+`ms
Total Duration: ${f-m}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}}function Pw(t,e){return new Rw(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.changes=new ar(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ji(r.mutation,i,Pt.empty(),Pe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const i=Gn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let l=ls();return o.forEach((u,c)=>{l=l.insert(u,c.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Gn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,r,i){let o=il();const l=Bi(),u=function(){return Bi()}();return n.forEach((c,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof ur)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),ji(m.mutation,f,m.mutation.getFieldMask(),Pe.now())):l.set(f.key,Pt.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((f,m)=>l.set(f,m)),n.forEach((f,m)=>{var y;return u.set(f,new Dw(m,(y=l.get(f))!==null&&y!==void 0?y:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Bi();let i=new ot((l,u)=>l-u),o=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let m=r.get(c)||Pt.empty();m=u.applyToLocalView(f,m),r.set(c,m);const y=(i.get(u.batchId)||Qe()).add(c);i=i.insert(u.batchId,y)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,m=c.value,y=Hg();m.forEach(T=>{if(!o.has(T)){const P=Xg(n.get(T),r.get(T));P!==null&&y.set(T,P),o=o.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return x.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return G.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$E(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):x.resolve(Gn());let u=-1,c=o;return l.next(f=>x.forEach(f,(m,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(m)?x.resolve():this.remoteDocumentCache.getEntry(e,m).next(T=>{c=c.insert(m,T)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,c,f,Qe())).next(m=>({batchId:u,changes:bg(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=ls();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=ls();return this.indexManager.getCollectionParents(e,o).next(u=>x.forEach(u,c=>{const f=function(y,T){return new Rl(T,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((y,T)=>{l=l.insert(y,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(l=>{o.forEach((c,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,Ct.newInvalidDocument(m)))});let u=ls();return l.forEach((c,f)=>{const m=o.get(c);m!==void 0&&ji(m.mutation,f,Pt.empty(),Pe.now()),Xc(n,f)&&(u=u.insert(c,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return x.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Mr(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:Tw(i.bundledQuery),readTime:Mr(i.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this.overlays=new ot(G.comparator),this.Er=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gn();return x.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Tt(e,n,o)}),x.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){const i=Gn(),o=n.length+1,l=new G(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ot((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=Gn(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=Gn(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=i)););return x.resolve(u)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new sw(n,r));let o=this.Er.get(n);o===void 0&&(o=Qe(),this.Er.set(n,o)),this.Er.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(){this.dr=new Le(Ie.Ar),this.Rr=new Le(Ie.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new Ie(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new Ie(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new G(new ge([])),r=new Ie(n,e),i=new Ie(n,e+1),o=[];return this.Rr.forEachInRange([r,i],l=>{this.gr(l),o.push(l.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new G(new ge([])),r=new Ie(n,e),i=new Ie(n,e+1);let o=Qe();return this.Rr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new Ie(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ie{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return G.comparator(e.key,n.key)||Z(e.br,n.br)}static Vr(e,n){return Z(e.br,n.br)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Le(Ie.Ar)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new ow(o,n,r,i);this.mutationQueue.push(l);for(const u of i)this.vr=this.vr.add(new Ie(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return x.resolve(l)}lookupMutationBatch(e,n){return x.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ie(n,0),i=new Ie(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],l=>{const u=this.Cr(l.br);o.push(u)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Le(Z);return n.forEach(i=>{const o=new Ie(i,0),l=new Ie(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,l],u=>{r=r.add(u.br)})}),x.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;G.isDocumentKey(o)||(o=o.child(""));const l=new Ie(new G(o),0);let u=new Le(Z);return this.vr.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.br)),!0)},l),x.resolve(this.Mr(u))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ye(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return x.forEach(n.mutations,i=>{const o=new Ie(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new Ie(n,0),i=this.vr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e){this.Nr=e,this.docs=function(){return new ot(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=il();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ct.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=il();const l=n.path,u=new G(l.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:m}}=c.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||vE(yE(m),r)<=0||(i.has(m.key)||Xc(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,n,r,i){q()}Lr(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Fw(this)}getSize(e){return x.resolve(this.size)}}class Fw extends kw{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this.persistence=e,this.Br=new ar(n=>qc(n),Kc),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.kr=0,this.qr=new Zc,this.targetCount=0,this.Qr=qr.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),x.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new qr(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Un(n),x.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Br.forEach((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Br.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),x.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n){this.Kr={},this.overlays={},this.$r=new bc(0),this.Ur=!1,this.Ur=!0,this.Wr=new Ow,this.referenceDelegate=e(this),this.Gr=new Uw(this),this.indexManager=new Sw,this.remoteDocumentCache=function(i){return new Mw(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new ww(n),this.jr=new Vw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new Lw(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const i=new zw(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,n){return x.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class zw extends EE{constructor(e){super(),this.currentSequenceNumber=e}}class eh{constructor(e){this.persistence=e,this.Zr=new Zc,this.Xr=null}static ei(e){return new eh(e)}get ti(){if(this.Xr)return this.Xr;throw q()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),x.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.ti,r=>{const i=G.fromPath(r);return this.ni(e,i).next(o=>{o||n.removeEntry(i,ae.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return x.or([()=>x.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class ll{constructor(e,n){this.persistence=e,this.ri=new ar(r=>SE(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Pw(this,n)}static ei(e,n){return new ll(e,n)}Hr(){}Jr(e){return x.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return x.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?x.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Lr(e,l=>this.ir(e,l,n).next(u=>{u||(r++,o.removeEntry(l,ae.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),x.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),x.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ts(e.data.value)),n}ir(e,n,r){return x.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=Qe(),i=Qe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new th(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return b0()?8:wE(j0())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Xi(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.es(e,n,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new Bw;return this.ts(e,n,l).next(u=>{if(o.result=u,this.Hi)return this.ns(e,n,l,u.size)})}).next(()=>o.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(mr()<=X.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",Si(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),x.resolve()):(mr()<=X.DEBUG&&$("QueryEngine","Query:",Si(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(mr()<=X.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",Si(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(n))):x.resolve())}Xi(e,n){if(Ld(n))return x.resolve(null);let r=Xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Bu(n,null,"F"),r=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Qe(...o);return this.Zi.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.rs(n,u);return this.ss(n,f,l,c.readTime)?this.Xi(e,Bu(n,null,"F")):this.os(e,f,n,c)}))})))}es(e,n,r,i){return Ld(n)||i.isEqual(ae.min())?x.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const l=this.rs(n,o);return this.ss(n,l,r,i)?x.resolve(null):(mr()<=X.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Si(n)),this.os(e,l,n,gE(i,-1)).next(u=>u))})}rs(e,n){let r=new Le(HE(e));return n.forEach((i,o)=>{Xc(e,o)&&(r=r.add(o))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,n,r){return mr()<=X.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Si(n)),this.Zi.getDocumentsMatchingQuery(e,n,kn.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new ot(Z),this.cs=new ar(o=>qc(o),Kc),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nw(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function bw(t,e,n,r){return new $w(t,e,n,r)}async function ny(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let c=Qe();for(const f of i){l.push(f.batchId);for(const m of f.mutations)c=c.add(m.key)}for(const f of o){u.push(f.batchId);for(const m of f.mutations)c=c.add(m.key)}return n.localDocuments.getDocuments(r,c).next(f=>({Ts:f,removedBatchIds:l,addedBatchIds:u}))})})}function Hw(t,e){const n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(u,c,f,m){const y=f.batch,T=y.keys();let P=x.resolve();return T.forEach(D=>{P=P.next(()=>m.getEntry(c,D)).next(V=>{const F=f.docVersions.get(D);ye(F!==null),V.version.compareTo(F)<0&&(y.applyToRemoteDocument(V,f),V.isValidDocument()&&(V.setReadTime(f.commitVersion),m.addEntry(V)))})}),P.next(()=>u.mutationQueue.removeMutationBatch(c,y))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=Qe();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Qw(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function Gw(t,e){const n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class bd{constructor(){this.activeTargetIds=XE()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ww{constructor(){this._o=new bd,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new bd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let as=null;function Oa(){return as===null?as=function(){return 268435456+Math.round(2147483648*Math.random())}():as++,"0x"+as.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class Yw extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(n,r,i,o,l){const u=Oa(),c=this.No(n,r.toUriEncodedString());$("RestConnection",`Sending RPC '${n}' ${u}:`,c,i);const f={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(f,o,l),this.Bo(n,c,f,i).then(m=>($("RestConnection",`Received RPC '${n}' ${u}: `,m),m),m=>{throw Js("RestConnection",`RPC '${n}' ${u} failed with error: `,m,"url: ",c,"request:",i),m})}ko(n,r,i,o,l,u){return this.Oo(n,r,i,o,l)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,l)=>n[l]=o),i&&i.headers.forEach((o,l)=>n[l]=o)}No(n,r){const i=Kw[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const o=Oa();return new Promise((l,u)=>{const c=new Ag;c.setWithCredentials(!0),c.listenOnce(Cg.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ws.NO_ERROR:const m=c.getResponseJson();$($e,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case ws.TIMEOUT:$($e,`RPC '${e}' ${o} timed out`),u(new b(L.DEADLINE_EXCEEDED,"Request time out"));break;case ws.HTTP_ERROR:const y=c.getStatus();if($($e,`RPC '${e}' ${o} failed with status:`,y,"response text:",c.getResponseText()),y>0){let T=c.getResponseJson();Array.isArray(T)&&(T=T[0]);const P=T==null?void 0:T.error;if(P&&P.status&&P.message){const D=function(F){const S=F.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(S)>=0?S:L.UNKNOWN}(P.status);u(new b(D,P.message))}else u(new b(L.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new b(L.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{$($e,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);$($e,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",f,r,15)})}qo(e,n,r){const i=Oa(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=kg(),u=Pg(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Lo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const m=o.join("");$($e,`Creating RPC '${e}' stream ${i}: ${m}`,c);const y=l.createWebChannel(m,c);let T=!1,P=!1;const D=new Xw({Eo:F=>{P?$($e,`Not sending because RPC '${e}' stream ${i} is closed:`,F):(T||($($e,`Opening RPC '${e}' stream ${i} transport.`),y.open(),T=!0),$($e,`RPC '${e}' stream ${i} sending:`,F),y.send(F))},Ao:()=>y.close()}),V=(F,S,_)=>{F.listen(S,A=>{try{_(A)}catch(N){setTimeout(()=>{throw N},0)}})};return V(y,Pi.EventType.OPEN,()=>{P||($($e,`RPC '${e}' stream ${i} transport opened.`),D.So())}),V(y,Pi.EventType.CLOSE,()=>{P||(P=!0,$($e,`RPC '${e}' stream ${i} transport closed`),D.Do())}),V(y,Pi.EventType.ERROR,F=>{P||(P=!0,Js($e,`RPC '${e}' stream ${i} transport errored:`,F),D.Do(new b(L.UNAVAILABLE,"The operation could not be completed")))}),V(y,Pi.EventType.MESSAGE,F=>{var S;if(!P){const _=F.data[0];ye(!!_);const A=_,N=(A==null?void 0:A.error)||((S=A[0])===null||S===void 0?void 0:S.error);if(N){$($e,`RPC '${e}' stream ${i} received error:`,N);const U=N.status;let z=function(g){const w=Ee[g];if(w!==void 0)return aw(w)}(U),v=N.message;z===void 0&&(z=L.INTERNAL,v="Unknown error status: "+U+" with message "+N.message),P=!0,D.Do(new b(z,v)),y.close()}else $($e,`RPC '${e}' stream ${i} received:`,_),D.vo(_)}}),V(u,Rg.STAT_EVENT,F=>{F.stat===Mu.PROXY?$($e,`RPC '${e}' stream ${i} detected buffering proxy`):F.stat===Mu.NOPROXY&&$($e,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.bo()},0),D}}function La(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t){return new uw(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n,r,i,o,l,u,c){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new ry(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new b(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zw extends Jw{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return ye(!!e.streamToken),this.lastStreamToken=e.streamToken,ye(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=yw(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=pw(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>gw(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new b(L.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Oo(e,$u(n,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new b(L.UNKNOWN,o.toString())})}ko(e,n,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.ko(e,$u(n,r),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new b(L.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class tT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(rr(n),this.C_=!1):$("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(l=>{r.enqueueAndForget(async()=>{To(this)&&($("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=ie(c);f.k_.add(4),await wo(f),f.K_.set("Unknown"),f.k_.delete(4),await Nl(f)}(this))})}),this.K_=new tT(r,i)}}async function Nl(t){if(To(t))for(const e of t.q_)await e(!0)}async function wo(t){for(const e of t.q_)await e(!1)}function To(t){return ie(t).k_.size===0}async function iy(t,e,n){if(!_o(e))throw e;t.k_.add(1),await wo(t),t.K_.set("Offline"),n||(n=()=>Qw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Nl(t)})}function oy(t,e){return e().catch(n=>iy(t,n,e))}async function Vl(t){const e=ie(t),n=Nn(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;rT(e);)try{const i=await Gw(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,iT(e,i)}catch(i){await iy(e,i)}sy(e)&&ly(e)}function rT(t){return To(t)&&t.L_.length<10}function iT(t,e){t.L_.push(e);const n=Nn(t);n.s_()&&n.f_&&n.g_(e.mutations)}function sy(t){return To(t)&&!Nn(t).i_()&&t.L_.length>0}function ly(t){Nn(t).start()}async function oT(t){Nn(t).w_()}async function sT(t){const e=Nn(t);for(const n of t.L_)e.g_(n.mutations)}async function lT(t,e,n){const r=t.L_.shift(),i=Jc.from(r,e,n);await oy(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Vl(t)}async function aT(t,e){e&&Nn(t).f_&&await async function(r,i){if(function(l){return lw(l)&&l!==L.ABORTED}(i.code)){const o=r.L_.shift();Nn(r).__(),await oy(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Vl(r)}}(t,e),sy(t)&&ly(t)}async function Qd(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");const r=To(n);n.k_.add(3),await wo(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Nl(n)}async function uT(t,e){const n=ie(t);e?(n.k_.delete(2),await Nl(n)):e||(n.k_.add(2),await wo(n),n.K_.set("Unknown"))}function Nn(t){return t.G_||(t.G_=function(n,r,i){const o=ie(n);return o.b_(),new Zw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:oT.bind(null,t),po:aT.bind(null,t),p_:sT.bind(null,t),y_:lT.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Vl(t)):(await t.G_.stop(),t.L_.length>0&&($("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,u=new nh(e,n,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new b(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ay(t,e){if(rr("AsyncQueue",`${e}: ${t}`),_o(t))return new b(L.UNAVAILABLE,`${e}: ${t}`);throw t}class cT{constructor(){this.queries=Gd(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=ie(n),o=i.queries;i.queries=Gd(),o.forEach((l,u)=>{for(const c of u.J_)c.onError(r)})})(this,new b(L.ABORTED,"Firestore shutting down"))}}function Gd(){return new ar(t=>jg(t),Bg)}function hT(t){t.X_.forEach(e=>{e.next()})}var Wd,qd;(qd=Wd||(Wd={})).na="default",qd.Cache="cache";class fT{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new ar(u=>jg(u),Bg),this.Oa=new Map,this.Na=new Set,this.La=new ot(G.comparator),this.Ba=new Map,this.ka=new Zc,this.qa={},this.Qa=new Map,this.Ka=qr.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function dT(t,e,n){const r=yT(t);try{const i=await function(l,u){const c=ie(l),f=Pe.now(),m=u.reduce((P,D)=>P.add(D.key),Qe());let y,T;return c.persistence.runTransaction("Locally write mutations","readwrite",P=>{let D=il(),V=Qe();return c.hs.getEntries(P,m).next(F=>{D=F,D.forEach((S,_)=>{_.isValidDocument()||(V=V.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(P,D)).next(F=>{y=F;const S=[];for(const _ of u){const A=rw(_,y.get(_.key).overlayedDocument);A!=null&&S.push(new ur(_.key,A,xg(A.value.mapValue),Yt.exists(!0)))}return c.mutationQueue.addMutationBatch(P,f,S,u)}).next(F=>{T=F;const S=F.applyToLocalDocumentSet(y,V);return c.documentOverlayCache.saveOverlays(P,F.batchId,S)})}).then(()=>({batchId:T.batchId,changes:bg(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,c){let f=l.qa[l.currentUser.toKey()];f||(f=new ot(Z)),f=f.insert(u,c),l.qa[l.currentUser.toKey()]=f}(r,i.batchId,n),await xl(r,i.changes),await Vl(r.remoteStore)}catch(i){const o=ay(i,"Failed to persist write");n.reject(o)}}function Kd(t,e,n){const r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((o,l)=>{const u=l.view.ea(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const c=ie(l);c.onlineState=u;let f=!1;c.queries.forEach((m,y)=>{for(const T of y.J_)T.ea(u)&&(f=!0)}),f&&hT(c)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pT(t,e){const n=ie(t),r=e.batch.batchId;try{const i=await Hw(n.localStore,e);cy(n,r,null),uy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xl(n,i)}catch(i){await $c(i)}}async function mT(t,e,n){const r=ie(t);try{const i=await function(l,u){const c=ie(l);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return c.mutationQueue.lookupMutationBatch(f,u).next(y=>(ye(y!==null),m=y.keys(),c.mutationQueue.removeMutationBatch(f,y))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>c.localDocuments.getDocuments(f,m))})}(r.localStore,e);cy(r,e,n),uy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xl(r,i)}catch(i){await $c(i)}}function uy(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function cy(t,e,n){const r=ie(t);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}async function xl(t,e,n){const r=ie(t),i=[],o=[],l=[];r.xa.isEmpty()||(r.xa.forEach((u,c)=>{l.push(r.Ua(c,e,n).then(f=>{var m;if((f||n)&&r.isPrimaryClient){const y=f?!f.fromCache:(m=void 0)===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(c.targetId,y?"current":"not-current")}if(f){i.push(f);const y=th.zi(c.targetId,f);o.push(y)}}))}),await Promise.all(l),r.Ma.R_(i),await async function(c,f){const m=ie(c);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>x.forEach(f,T=>x.forEach(T.Wi,P=>m.persistence.referenceDelegate.addReference(y,T.targetId,P)).next(()=>x.forEach(T.Gi,P=>m.persistence.referenceDelegate.removeReference(y,T.targetId,P)))))}catch(y){if(!_o(y))throw y;$("LocalStore","Failed to update sequence numbers: "+y)}for(const y of f){const T=y.targetId;if(!y.fromCache){const P=m.us.get(T),D=P.snapshotVersion,V=P.withLastLimboFreeSnapshotVersion(D);m.us=m.us.insert(T,V)}}}(r.localStore,o))}async function gT(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());const r=await ny(n.localStore,e);n.currentUser=e,function(o,l){o.Qa.forEach(u=>{u.forEach(c=>{c.reject(new b(L.CANCELLED,l))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xl(n,r.Ts)}}function yT(t){const e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mT.bind(null,e),e}class al{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dl(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return bw(this.persistence,new jw,e.initialUser,this.serializer)}ja(e){return new ty(eh.ei,this.serializer)}za(e){return new Ww}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}al.provider={build:()=>new al};class vT extends al{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){ye(this.persistence.referenceDelegate instanceof ll);const r=this.persistence.referenceDelegate.garbageCollector;return new Cw(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Ze.withCacheSize(this.cacheSizeBytes):Ze.DEFAULT;return new ty(r=>ll.ei(r,n),this.serializer)}}class Hu{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Kd(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gT.bind(null,this.syncEngine),await uT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cT}()}createDatastore(e){const n=Dl(e.databaseInfo.databaseId),r=function(o){return new Yw(o)}(e.databaseInfo);return function(o,l,u,c){return new eT(o,l,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,l,u){return new nT(r,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>Kd(this.syncEngine,n,0),function(){return Hd.p()?new Hd:new qw}())}createSyncEngine(e,n){return function(i,o,l,u,c,f,m){const y=new fT(i,o,l,u,c,f);return m&&(y.$a=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ie(i);$("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await wo(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hu.provider={build:()=>new Hu};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=be.UNAUTHENTICATED,this.clientId=Ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{$("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>($("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ay(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ma(t,e){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ny(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Xd(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ET(t);$("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Qd(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Qd(e.remoteStore,i)),t._onlineComponents=e}async function ET(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ma(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Js("Error using user provided cache. Falling back to memory cache: "+n),await Ma(t,new al)}}else $("FirestoreClient","Using default OfflineComponentProvider"),await Ma(t,new vT(void 0));return t._offlineComponents}async function wT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),await Xd(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),await Xd(t,new Hu))),t._onlineComponents}function TT(t){return wT(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t,e,n){if(!n)throw new b(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ST(t,e,n,r){if(e===!0&&r===!0)throw new b(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Jd(t){if(!G.isDocumentKey(t))throw new b(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zd(t){if(G.isDocumentKey(t))throw new b(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q()}function dy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rh(t);throw new b(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new b(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new b(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ST("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hy((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new b(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new b(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new b(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ol{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ep({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new b(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new b(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ep(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lE;switch(r.type){case"firstParty":return new hE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new b(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Yd.get(n);r&&($("ComponentProvider","Removing Datastore"),Yd.delete(n),r.terminate())}(this),Promise.resolve()}}function IT(t,e,n,r={}){var i;const o=(t=dy(t,Ol))._getSettings(),l=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&Js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=be.MOCK_USER;else{u=B0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new b(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new be(f)}t._authCredentials=new aE(new Dg(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ih(this.firestore,e,this._query)}}class Jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}}class Cn extends ih{constructor(e,n,r){super(e,n,jE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new G(e))}withConverter(e){return new Cn(this.firestore,e,this._path)}}function AT(t,e,...n){if(t=oo(t),fy("collection","path",e),t instanceof Ol){const r=ge.fromString(e,...n);return Zd(r),new Cn(t,null,r)}{if(!(t instanceof Jt||t instanceof Cn))throw new b(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return Zd(r),new Cn(t.firestore,null,r)}}function CT(t,e,...n){if(t=oo(t),arguments.length===1&&(e=Ng.newId()),fy("doc","path",e),t instanceof Ol){const r=ge.fromString(e,...n);return Jd(r),new Jt(t,null,new G(r))}{if(!(t instanceof Jt||t instanceof Cn))throw new b(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return Jd(r),new Jt(t.firestore,t instanceof Cn?t.converter:null,new G(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new ry(this,"async_queue_retry"),this.fu=()=>{const r=La();r&&$("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=La();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=La();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Kn;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!_o(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw rr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=nh.createAndSchedule(this,e,n,r,o=>this.Su(o));return this.du.push(i),i}pu(){this.Au&&q()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class py extends Ol{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new tp,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tp(e),this._firestoreClient=void 0,await e}}}function RT(t,e){const n=typeof t=="object"?t:K1(),r=typeof t=="string"?t:"(default)",i=Q1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=U0("firestore");o&&IT(i,...o)}return i}function PT(t){if(t._terminated)throw new b(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||kT(t),t._firestoreClient}function kT(t){var e,n,r;const i=t._freezeSettings(),o=function(u,c,f,m){return new RE(u,c,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,hy(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new _T(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fo(Ft.fromBase64String(e))}catch(n){throw new b(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fo(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new b(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=/^__.*__$/;class NT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ur(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eo(e,this.data,n,this.fieldTransforms)}}function _y(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}class oh{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new oh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return ul(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(_y(this.Mu)&&DT.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class VT{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dl(e)}$u(e,n,r,i=!1){return new oh({Mu:e,methodName:n,Ku:r,path:xe.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xT(t){const e=t._freezeSettings(),n=Dl(t._databaseId);return new VT(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OT(t,e,n,r,i,o={}){const l=t.$u(o.merge||o.mergeFields?2:0,e,n,i);Sy("Data must be an object, but it was:",l,r);const u=wy(r,l);let c,f;if(o.merge)c=new Pt(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const T=LT(e,y,n);if(!l.contains(T))throw new b(L.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);UT(m,T)||m.push(T)}c=new Pt(m),f=l.fieldTransforms.filter(y=>c.covers(y.field))}else c=null,f=l.fieldTransforms;return new NT(new Rt(u),c,f)}function Ey(t,e){if(Ty(t=oo(t)))return Sy("Unsupported field value:",e,t),wy(t,e);if(t instanceof gy)return function(r,i){if(!_y(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const u of r){let c=Ey(u,i.ku(l));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),l++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=oo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YE(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Pe.fromDate(r);return{timestampValue:ju(i.serializer,o)}}if(r instanceof Pe){const o=new Pe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ju(i.serializer,o)}}if(r instanceof yy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fo)return{bytesValue:cw(i.serializer,r._byteString)};if(r instanceof Jt){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Zg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof vy)return function(l,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(c=>{if(typeof c!="number")throw u.qu("VectorValues must only contain numeric values.");return Yc(u.serializer,c)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${rh(r)}`)}(t,e)}function wy(t,e){const n={};return Vg(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ei(t,(r,i)=>{const o=Ey(i,e.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Ty(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pe||t instanceof yy||t instanceof fo||t instanceof Jt||t instanceof gy||t instanceof vy)}function Sy(t,e,n){if(!Ty(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=rh(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function LT(t,e,n){if((e=oo(e))instanceof my)return e._internalPath;if(typeof e=="string")return FT(t,e);throw ul("Field path arguments must be of type string or ",t,!1,void 0,n)}const MT=new RegExp("[~\\*/\\[\\]]");function FT(t,e,n){if(e.search(MT)>=0)throw ul(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new my(...e.split("."))._internalPath}catch{throw ul(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ul(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||l)&&(c+=" (found",o&&(c+=` in field ${r}`),l&&(c+=` in document ${i}`),c+=")"),new b(L.INVALID_ARGUMENT,u+t+c)}function UT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function BT(t,e){const n=dy(t.firestore,py),r=CT(t),i=zT(t.converter,e);return jT(n,[OT(xT(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Yt.exists(!1))]).then(()=>r)}function jT(t,e){return function(r,i){const o=new Kn;return r.asyncQueue.enqueueAndForget(async()=>dT(await TT(r),i,o)),o.promise}(PT(t),e)}(function(e,n=!0){(function(i){Zr=i})(q1),Ys(new so("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new py(new uE(r.getProvider("auth-internal")),new dE(r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new b(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tl(f.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Lr(Cd,"4.7.5",e),Lr(Cd,"4.7.5","esm2017")})();const $T={apiKey:'"AIzaSyBrPXYMcx2zGJ0H_pLgDTZbPoftSzaBLr8",',authDomain:'y"albumarcade-7040d.firebaseapp.com",',projectId:'"albumarcade-7040d",',storageBucket:'"albumarcade-7040d.firebasestorage.app",',messagingSenderId:'"589208026375",',appId:"1:589208026375:web:0f0026b4e36029042999a2"},bT=wg($T),HT=RT(bT);function QT(){const[t,e]=hl.useState("Not tested"),n=async()=>{try{const r=await BT(AT(HT,"albums"),{test:"Connection Test",timestamp:new Date().toISOString()});e("Connected! Test ID: "+r.id),console.log("Firebase connection successful",r.id)}catch(r){e("Error: "+r.message),console.error("Firebase connection error:",r)}};return Tt.jsxs("div",{className:"min-h-screen bg-black text-white p-4",children:[Tt.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Album Arcade"}),Tt.jsxs("div",{className:"space-y-4",children:[Tt.jsxs("div",{className:"p-4 bg-zinc-800 rounded-lg",children:[Tt.jsxs("p",{children:["Connection Status: ",t]}),Tt.jsx("button",{onClick:n,className:"mt-2 px-4 py-2 bg-purple-600 rounded hover:bg-purple-700",children:"Test Firebase Connection"})]}),Tt.jsxs("div",{className:"p-4 bg-zinc-800 rounded-lg",children:[Tt.jsx("h2",{className:"font-bold mb-2",children:"Environment Variables:"}),Tt.jsxs("pre",{className:"text-xs",children:["Project ID: ",'"albumarcade-7040d",']})]})]})]})}Fa.createRoot(document.getElementById("root")).render(Tt.jsx(yv.StrictMode,{children:Tt.jsx(QT,{})}));
